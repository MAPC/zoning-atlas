(self.webpackChunkmapc_zoning_atlas=self.webpackChunkmapc_zoning_atlas||[]).push([[293],{4878:function(e,t,n){!function(e,t,n){"use strict";var r="3.1.4",i="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer/",o=n.Task.extend({path:"findAddressCandidates",params:{outSr:4326,forStorage:!1,outFields:"*",maxLocations:20},setters:{address:"address",neighborhood:"neighborhood",city:"city",subregion:"subregion",region:"region",postal:"postal",country:"country",text:"singleLine",category:"category",token:"token",apikey:"apikey",key:"magicKey",fields:"outFields",forStorage:"forStorage",maxLocations:"maxLocations",countries:"sourceCountry"},initialize:function(e){(e=e||{}).url=e.url||i,n.Task.prototype.initialize.call(this,e)},within:function(e){return e=t.latLngBounds(e),this.params.searchExtent=n.Util.boundsToExtent(e),this},nearby:function(e,n){var r=t.latLng(e);return this.params.location=r.lng+","+r.lat,n&&(this.params.distance=Math.min(Math.max(n,2e3),5e4)),this},run:function(e,t){return this.options.token&&(this.params.token=this.options.token),this.options.apikey&&(this.params.token=this.options.apikey),this.options.customParam&&(this.params[this.options.customParam]=this.params.singleLine,delete this.params.singleLine),this.request((function(n,r){var i=this._processGeocoderResponse,o=n?void 0:i(r);e.call(t,n,{results:o},r)}),this)},_processGeocoderResponse:function(e){for(var r=[],i=0;i<e.candidates.length;i++){var o=e.candidates[i];if(o.extent)var s=n.Util.extentToBounds(o.extent);r.push({text:o.address,bounds:s,score:o.score,latlng:t.latLng(o.location.y,o.location.x),properties:o.attributes})}return r}});function s(e){return new o(e)}var a=n.Task.extend({path:"reverseGeocode",params:{outSR:4326,returnIntersection:!1},setters:{distance:"distance",language:"langCode",intersection:"returnIntersection",apikey:"apikey"},initialize:function(e){(e=e||{}).url=e.url||i,n.Task.prototype.initialize.call(this,e)},latlng:function(e){var n=t.latLng(e);return this.params.location=n.lng+","+n.lat,this},run:function(e,n){return this.options.token&&(this.params.token=this.options.token),this.options.apikey&&(this.params.token=this.options.apikey),this.request((function(r,i){var o;o=r?void 0:{latlng:t.latLng(i.location.y,i.location.x),address:i.address},e.call(n,r,o,i)}),this)}});function l(e){return new a(e)}var u=n.Task.extend({path:"suggest",params:{},setters:{text:"text",category:"category",countries:"countryCode",maxSuggestions:"maxSuggestions"},initialize:function(e){(e=e||{}).url||(e.url=i,e.supportsSuggest=!0),n.Task.prototype.initialize.call(this,e)},within:function(e){var r=(e=t.latLngBounds(e)).getCenter(),i=e.getNorthWest();return this.params.location=r.lng+","+r.lat,this.params.distance=Math.min(Math.max(r.distanceTo(i),2e3),5e4),this.params.searchExtent=n.Util.boundsToExtent(e),this},nearby:function(e,n){var r=t.latLng(e);return this.params.location=r.lng+","+r.lat,n&&(this.params.distance=Math.min(Math.max(n,2e3),5e4)),this},run:function(e,t){if(this.options.supportsSuggest)return this.request((function(n,r){e.call(t,n,r,r)}),this);console.warn("this geocoding service does not support asking for suggestions")}});function c(e){return new u(e)}var d=n.Service.extend({initialize:function(e){(e=e||{}).apikey&&(e.token=e.apikey),e.url?(n.Service.prototype.initialize.call(this,e),this._confirmSuggestSupport()):(e.url=i,e.supportsSuggest=!0,n.Service.prototype.initialize.call(this,e))},geocode:function(){return s(this)},reverse:function(){return l(this)},suggest:function(){return c(this)},_confirmSuggestSupport:function(){this.metadata((function(e,t){e||(t.capabilities&&t.capabilities.indexOf("Suggest")>-1?this.options.supportsSuggest=!0:this.options.supportsSuggest=!1,this.options.customParam=t.singleLineAddressField.name)}),this)}});function p(e){return new d(e)}var f=t.Evented.extend({options:{zoomToResult:!0,useMapBounds:12,searchBounds:null},initialize:function(e,n){if(t.Util.setOptions(this,n),this._control=e,!n||!n.providers||!n.providers.length)throw new Error("You must specify at least one provider");this._providers=n.providers},_geocode:function(e,n,r){var i,o=0,s=[],a=t.Util.bind((function(t,n){o--,t||(n&&(s=s.concat(n)),o<=0&&(i=this._boundsFromResults(s),this.fire("results",{results:s,bounds:i,latlng:i?i.getCenter():void 0,text:e},!0),this.options.zoomToResult&&i&&this._control._map.fitBounds(i),this.fire("load")))}),this);if(n)o++,r.results(e,n,this._searchBounds(),a);else for(var l=0;l<this._providers.length;l++)o++,this._providers[l].results(e,n,this._searchBounds(),a)},_suggest:function(e){var n=this._providers.length,r=0,i=t.Util.bind((function(e,i){return t.Util.bind((function(t,o){if(n-=1,r+=o.length,t)return this._control._clearProviderSuggestions(i),void this._control._finalizeSuggestions(n,r);if(o.length)for(var s=0;s<o.length;s++)o[s].provider=i;else this._control._renderSuggestions(o);i._lastRender!==e&&this._control._clearProviderSuggestions(i),o.length&&this._control._input.value===e&&(i._lastRender=e,this._control._renderSuggestions(o)),this._control._finalizeSuggestions(n,r)}),this)}),this);this._pendingSuggestions=[];for(var o=0;o<this._providers.length;o++){var s=this._providers[o],a=s.suggestions(e,this._searchBounds(),i(e,s));this._pendingSuggestions.push(a)}},_searchBounds:function(){return null!==this.options.searchBounds?this.options.searchBounds:!1===this.options.useMapBounds?null:!0===this.options.useMapBounds||this.options.useMapBounds<=this._control._map.getZoom()?this._control._map.getBounds():null},_boundsFromResults:function(e){if(e.length){for(var n=t.latLngBounds([0,0],[0,0]),r=[],i=[],o=e.length-1;o>=0;o--){var s=e[o];i.push(s.latlng),s.bounds&&s.bounds.isValid()&&!s.bounds.equals(n)&&r.push(s.bounds)}for(var a=t.latLngBounds(i),l=0;l<r.length;l++)a.extend(r[l]);return a}},_getAttribution:function(){for(var e=[],t=this._providers,n=0;n<t.length;n++)t[n].options.attribution&&e.push(t[n].options.attribution);return e.join(", ")}});function m(e,t){return new f(e,t)}var h=d.extend({options:{label:"Places and Addresses",maxResults:5},suggestions:function(e,t,n){var r=this.suggest().text(e);return t&&r.within(t),this.options.nearby&&r.nearby(this.options.nearby),this.options.countries&&r.countries(this.options.countries),this.options.categories&&r.category(this.options.categories),r.maxSuggestions(this.options.maxResults),r.run((function(e,t,r){var i=[];if(!e)for(;r.suggestions.length&&i.length<=this.options.maxResults-1;){var o=r.suggestions.shift();o.isCollection||i.push({text:o.text,unformattedText:o.text,magicKey:o.magicKey})}n(e,i)}),this)},results:function(e,t,n,r){var i=this.geocode().text(e);return t&&i.key(t),i.maxLocations(this.options.maxResults),n&&i.within(n),this.options.forStorage&&i.forStorage(!0),this.options.nearby&&i.nearby(this.options.nearby),this.options.countries&&i.countries(this.options.countries),this.options.categories&&i.category(this.options.categories),i.run((function(e,t){r(e,t.results)}),this)}});function g(e){return new h(e)}var y=t.Control.extend({includes:t.Evented.prototype,options:{position:"topleft",collapseAfterResult:!0,expanded:!1,allowMultipleResults:!0,placeholder:"Search for places or addresses",title:"Location Search"},initialize:function(e){t.Util.setOptions(this,e),e&&e.providers&&e.providers.length||(e||(e={}),e.providers=[g()]),this._geosearchCore=m(this,e),this._geosearchCore._providers=e.providers,this._geosearchCore.addEventParent(this);for(var n=0;n<this._geosearchCore._providers.length;n++)this._geosearchCore._providers[n].addEventParent(this);this._geosearchCore._pendingSuggestions=[],t.Control.prototype.initialize.call(this,e)},_renderSuggestions:function(e){var n,r,i;e.length>0&&(this._suggestions.style.display="block");for(var o=[],s=0;s<e.length;s++){var a=e[s];if(!i&&this._geosearchCore._providers.length>1&&n!==a.provider.options.label&&((i=t.DomUtil.create("div","geocoder-control-header",a.provider._contentsElement)).textContent=a.provider.options.label,i.innerText=a.provider.options.label,n=a.provider.options.label),r||(r=t.DomUtil.create("ul","geocoder-control-list",a.provider._contentsElement)),-1===o.indexOf(a.text)){var l=t.DomUtil.create("li","geocoder-control-suggestion",r);l.innerHTML=a.text,l.provider=a.provider,l["data-magic-key"]=a.magicKey,l.unformattedText=a.unformattedText}else for(var u=0;u<r.childNodes.length;u++)r.childNodes[u].innerHTML===a.text&&(r.childNodes[u]["data-magic-key"]+=","+a.magicKey);o.push(a.text)}this.getPosition().indexOf("top")>-1&&(this._suggestions.style.maxHeight=this._map.getSize().y-this._suggestions.offsetTop-this._wrapper.offsetTop-10+"px"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition()},_setSuggestionsBottomPosition:function(){this._suggestions.style.maxHeight=this._map.getSize().y-this._map._controlCorners[this.getPosition()].offsetHeight-this._wrapper.offsetHeight+"px",this._suggestions.style.top=-this._suggestions.offsetHeight-this._wrapper.offsetHeight+20+"px"},_boundsFromResults:function(e){if(e.length){for(var n=t.latLngBounds([0,0],[0,0]),r=[],i=[],o=e.length-1;o>=0;o--){var s=e[o];i.push(s.latlng),s.bounds&&s.bounds.isValid()&&!s.bounds.equals(n)&&r.push(s.bounds)}for(var a=t.latLngBounds(i),l=0;l<r.length;l++)a.extend(r[l]);return a}},clear:function(){this._clearAllSuggestions(),this.options.collapseAfterResult&&(this._input.value="",this._lastValue="",this._input.placeholder="",t.DomUtil.removeClass(this._wrapper,"geocoder-control-expanded")),!this._map.scrollWheelZoom.enabled()&&this._map.options.scrollWheelZoom&&this._map.scrollWheelZoom.enable()},_clearAllSuggestions:function(){this._suggestions.style.display="none";for(var e=0;e<this.options.providers.length;e++)this._clearProviderSuggestions(this.options.providers[e])},_clearProviderSuggestions:function(e){e._contentsElement.innerHTML=""},_finalizeSuggestions:function(e,n){e||(t.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition(),n||this._clearAllSuggestions())},_setupClick:function(){t.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.focus()},disable:function(){this._input.disabled=!0,t.DomUtil.addClass(this._input,"geocoder-control-input-disabled"),t.DomEvent.removeListener(this._wrapper,"click",this._setupClick,this)},enable:function(){this._input.disabled=!1,t.DomUtil.removeClass(this._input,"geocoder-control-input-disabled"),t.DomEvent.addListener(this._wrapper,"click",this._setupClick,this)},getAttribution:function(){for(var e=[],t=0;t<this._providers.length;t++)this._providers[t].options.attribution&&e.push(this._providers[t].options.attribution);return e.join(", ")},geocodeSuggestion:function(e){var t=e.target||e.srcElement;t.classList.contains("geocoder-control-suggestions")||t.classList.contains("geocoder-control-header")||(t.classList.length<1&&(t=t.parentNode),this._geosearchCore._geocode(t.unformattedText,t["data-magic-key"],t.provider),this.clear())},onAdd:function(e){n.Util.setEsriAttribution(e),this._map=e,this._wrapper=t.DomUtil.create("div","geocoder-control"),this._input=t.DomUtil.create("input","geocoder-control-input leaflet-bar",this._wrapper),this._input.title=this.options.title,this.options.expanded&&(t.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.placeholder=this.options.placeholder),this._suggestions=t.DomUtil.create("div","geocoder-control-suggestions leaflet-bar",this._wrapper);for(var r=0;r<this.options.providers.length;r++)this.options.providers[r]._contentsElement=t.DomUtil.create("div",null,this._suggestions);var i=this._geosearchCore._getAttribution();return e.attributionControl&&e.attributionControl.addAttribution(i),t.DomEvent.addListener(this._input,"focus",(function(e){this._input.placeholder=this.options.placeholder,t.DomUtil.addClass(this._wrapper,"geocoder-control-expanded")}),this),t.DomEvent.addListener(this._wrapper,"click",this._setupClick,this),t.DomEvent.addListener(this._suggestions,"mousedown",this.geocodeSuggestion,this),t.DomEvent.addListener(this._input,"blur",(function(e){this.clear()}),this),t.DomEvent.addListener(this._input,"keydown",(function(e){var n=(e.target||e.srcElement).value;t.DomUtil.addClass(this._wrapper,"geocoder-control-expanded");for(var r,i=this._suggestions.querySelectorAll(".geocoder-control-suggestion"),o=this._suggestions.querySelectorAll(".geocoder-control-selected")[0],s=0;s<i.length;s++)if(i[s]===o){r=s;break}switch(e.keyCode){case 13:o?(this._input.value=o.innerText,this._geosearchCore._geocode(o.unformattedText,o["data-magic-key"],o.provider),this.clear()):this.options.allowMultipleResults&&n.length>=2?(this._geosearchCore._geocode(this._input.value,void 0),this.clear()):1===i.length?(t.DomUtil.addClass(i[0],"geocoder-control-selected"),this._geosearchCore._geocode(i[0].innerHTML,i[0]["data-magic-key"],i[0].provider)):(this.clear(),this._input.blur()),t.DomEvent.preventDefault(e);break;case 38:o&&t.DomUtil.removeClass(o,"geocoder-control-selected");var a=i[r-1];o&&a?t.DomUtil.addClass(a,"geocoder-control-selected"):t.DomUtil.addClass(i[i.length-1],"geocoder-control-selected"),t.DomEvent.preventDefault(e);break;case 40:o&&t.DomUtil.removeClass(o,"geocoder-control-selected");var l=i[r+1];o&&l?t.DomUtil.addClass(l,"geocoder-control-selected"):t.DomUtil.addClass(i[0],"geocoder-control-selected"),t.DomEvent.preventDefault(e);break;default:for(var u=0;u<this._geosearchCore._pendingSuggestions.length;u++){var c=this._geosearchCore._pendingSuggestions[u];c&&c.abort&&!c.id&&c.abort()}}}),this),t.DomEvent.addListener(this._input,"keyup",t.Util.throttle((function(e){var n=e.which||e.keyCode,r=(e.target||e.srcElement).value;if(r.length<2)return this._lastValue=this._input.value,this._clearAllSuggestions(),void t.DomUtil.removeClass(this._input,"geocoder-control-loading");27!==n?13!==n&&38!==n&&40!==n&&this._input.value!==this._lastValue&&(this._lastValue=this._input.value,t.DomUtil.addClass(this._input,"geocoder-control-loading"),this._geosearchCore._suggest(r)):this._clearAllSuggestions()}),50,this),this),t.DomEvent.disableClickPropagation(this._wrapper),t.DomEvent.addListener(this._suggestions,"mouseover",(function(t){e.scrollWheelZoom.enabled()&&e.options.scrollWheelZoom&&e.scrollWheelZoom.disable()})),t.DomEvent.addListener(this._suggestions,"mouseout",(function(t){!e.scrollWheelZoom.enabled()&&e.options.scrollWheelZoom&&e.scrollWheelZoom.enable()})),this._geosearchCore.on("load",(function(e){t.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.clear(),this._input.blur()}),this),this._wrapper}});function v(e){return new y(e)}var _=n.FeatureLayerService.extend({options:{label:"Feature Layer",maxResults:5,bufferRadius:1e3,searchMode:"contain",formatSuggestion:function(e){return e.properties[this.options.searchFields[0]]}},initialize:function(e){e.apikey&&(e.token=e.apikey),n.FeatureLayerService.prototype.initialize.call(this,e),"string"==typeof this.options.searchFields&&(this.options.searchFields=[this.options.searchFields]),this._suggestionsQuery=this.query(),this._resultsQuery=this.query()},suggestions:function(e,t,n){var r=this._suggestionsQuery.where(this._buildQuery(e)).returnGeometry(!1);return t&&r.intersects(t),this.options.idField&&r.fields([this.options.idField].concat(this.options.searchFields)),r.run((function(e,t,r){if(e)n(e,[]);else{this.options.idField=r.objectIdFieldName;for(var i=[],o=t.features.length-1;o>=0;o--){var s=t.features[o];i.push({text:this.options.formatSuggestion.call(this,s),unformattedText:s.properties[this.options.searchFields[0]],magicKey:s.id})}n(e,i.slice(0,this.options.maxResults))}}),this)},results:function(e,n,r,i){var o=this._resultsQuery;return n?(delete o.params.where,o.featureIds([n])):o.where(this._buildQuery(e)),r&&o.within(r),o.run(t.Util.bind((function(e,t){for(var n=[],r=0;r<t.features.length;r++){var o=t.features[r];if(o){var s=this._featureBounds(o),a={latlng:s.getCenter(),bounds:s,text:this.options.formatSuggestion.call(this,o),properties:o.properties,geojson:o};n.push(a),delete this._resultsQuery.params.objectIds}}i(e,n)}),this))},orderBy:function(e,t){this._suggestionsQuery.orderBy(e,t)},_buildQuery:function(e){for(var t=[],n=this.options.searchFields.length-1;n>=0;n--){var r='upper("'+this.options.searchFields[n]+'")';if("contain"===this.options.searchMode)t.push(r+" LIKE upper('%"+e+"%')");else if("startWith"===this.options.searchMode)t.push(r+" LIKE upper('"+e+"%')");else if("endWith"===this.options.searchMode)t.push(r+" LIKE upper('%"+e+"')");else{if("strict"!==this.options.searchMode)throw new Error('L.esri.Geocoding.featureLayerProvider: Invalid parameter for "searchMode". Use one of "contain", "startWith", "endWith", or "strict"');t.push(r+" LIKE upper('"+e+"')")}}return this.options.where?this.options.where+" AND ("+t.join(" OR ")+")":t.join(" OR ")},_featureBounds:function(e){var n=t.geoJson(e);if("Point"===e.geometry.type){var r=n.getBounds().getCenter(),i=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*r.lat),o=this.options.bufferRadius/40075017*360;return t.latLngBounds([r.lat-o,r.lng-i],[r.lat+o,r.lng+i])}return n.getBounds()}});function b(e){return new _(e)}var w=n.MapService.extend({options:{layers:[0],label:"Map Service",bufferRadius:1e3,maxResults:5,formatSuggestion:function(e){return e.properties[e.displayFieldName]+" <small>"+e.layerName+"</small>"}},initialize:function(e){e.apikey&&(e.token=e.apikey),n.MapService.prototype.initialize.call(this,e),this._getIdFields()},suggestions:function(e,t,n){return this.find().text(e).fields(this.options.searchFields).returnGeometry(!1).layers(this.options.layers).run((function(e,t,r){var i=[];if(!e){var o=Math.min(this.options.maxResults,t.features.length);r.results=r.results.reverse();for(var s=0;s<o;s++){var a=t.features[s],l=r.results[s],u=l.layerId,c=this._idFields[u];a.layerId=u,a.layerName=this._layerNames[u],a.displayFieldName=this._displayFields[u],c&&i.push({text:this.options.formatSuggestion.call(this,a),unformattedText:a.properties[a.displayFieldName],magicKey:l.attributes[c]+":"+u})}}n(e,i.reverse())}),this)},results:function(e,t,n,r){var i,o=[];if(t&&!t.includes(",")){var s=t.split(":")[0],a=t.split(":")[1];i=this.query().layer(a).featureIds(s)}else i=this.find().text(e).fields(this.options.searchFields).layers(this.options.layers);return i.run((function(e,t,n){if(!e){n.results&&(n.results=n.results.reverse());for(var i=0;i<t.features.length;i++){var s=t.features[i];if(a=a||n.results[i].layerId,s&&void 0!==a){var l=this._featureBounds(s);s.layerId=a,s.layerName=this._layerNames[a],s.displayFieldName=this._displayFields[a];var u={latlng:l.getCenter(),bounds:l,text:this.options.formatSuggestion.call(this,s),properties:s.properties,geojson:s};o.push(u)}}}r(e,o.reverse())}),this)},_featureBounds:function(e){var n=t.geoJson(e);if("Point"===e.geometry.type){var r=n.getBounds().getCenter(),i=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*r.lat),o=this.options.bufferRadius/40075017*360;return t.latLngBounds([r.lat-o,r.lng-i],[r.lat+o,r.lng+i])}return n.getBounds()},_layerMetadataCallback:function(e){return t.Util.bind((function(t,n){if(!t){this._displayFields[e]=n.displayField,this._layerNames[e]=n.name;for(var r=0;r<n.fields.length;r++){var i=n.fields[r];if("esriFieldTypeOID"===i.type){this._idFields[e]=i.name;break}}}}),this)},_getIdFields:function(){this._idFields={},this._displayFields={},this._layerNames={};for(var e=0;e<this.options.layers.length;e++){var t=this.options.layers[e];this.get(t,{},this._layerMetadataCallback(t))}}});function E(e){return new w(e)}var x=d.extend({options:{label:"Geocode Server",maxResults:5},suggestions:function(e,t,n){if(this.options.supportsSuggest){var r=this.suggest().text(e);return t&&r.within(t),r.run((function(e,t,r){var i=[];if(!e)for(;r.suggestions.length&&i.length<=this.options.maxResults-1;){var o=r.suggestions.shift();o.isCollection||i.push({text:o.text,unformattedText:o.text,magicKey:o.magicKey})}n(e,i)}),this)}return n(null,[]),!1},results:function(e,t,n,r){var i=this.geocode().text(e);return t&&i.key(t),i.maxLocations(this.options.maxResults),n&&i.within(n),i.run((function(e,t){r(e,t.results)}),this)}});function S(e){return new x(e)}e.ArcgisOnlineProvider=h,e.FeatureLayerProvider=_,e.Geocode=o,e.GeocodeService=d,e.GeocodeServiceProvider=x,e.Geosearch=y,e.GeosearchCore=f,e.MapServiceProvider=w,e.ReverseGeocode=a,e.Suggest=u,e.VERSION=r,e.WorldGeocodingServiceUrl=i,e.arcgisOnlineProvider=g,e.featureLayerProvider=b,e.geocode=s,e.geocodeService=p,e.geocodeServiceProvider=S,e.geosearch=v,e.geosearchCore=m,e.mapServiceProvider=E,e.reverseGeocode=l,e.suggest=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(3481),n(5402))},5402:function(e,t,n){"use strict";n.r(t),n.d(t,{BasemapLayer:function(){return we},DynamicMapLayer:function(){return Ae},FeatureLayer:function(){return Ne},FeatureLayerService:function(){return ye},FeatureManager:function(){return Ie},Find:function(){return Y},Identify:function(){return te},IdentifyFeatures:function(){return re},IdentifyImage:function(){return se},ImageMapLayer:function(){return Ce},ImageService:function(){return me},MapService:function(){return de},Query:function(){return K},RasterLayer:function(){return Re},Service:function(){return ue},Support:function(){return o},Task:function(){return q},TiledMapLayer:function(){return xe},Util:function(){return Z},VERSION:function(){return Me},basemapLayer:function(){return Ee},dynamicMapLayer:function(){return Pe},featureLayer:function(){return Be},featureLayerService:function(){return ve},find:function(){return $},get:function(){return h},identify:function(){return ne},identifyFeatures:function(){return ie},identifyImage:function(){return ae},imageMapLayer:function(){return Le},imageService:function(){return he},mapService:function(){return pe},options:function(){return s},post:function(){return d},query:function(){return X},request:function(){return f},service:function(){return ce},task:function(){return J},tiledMapLayer:function(){return Se}});var r=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,i=""===document.documentElement.style.pointerEvents,o={cors:r,pointerEvents:i},s={attributionWidthOffset:55},a=n(3481),l=0;function u(e){var t="";for(var n in e.f=e.f||"json",e)if(Object.prototype.hasOwnProperty.call(e,n)){var r,i=e[n],o=Object.prototype.toString.call(i);t.length&&(t+="&"),r="[object Array]"===o?"[object Object]"===Object.prototype.toString.call(i[0])?JSON.stringify(i):i.join(","):"[object Object]"===o?JSON.stringify(i):"[object Date]"===o?i.valueOf():i,t+=encodeURIComponent(n)+"="+encodeURIComponent(r)}return t.replaceAll("'","%27")}function c(e,t){var n=new window.XMLHttpRequest;return n.onerror=function(r){n.onreadystatechange=a.Util.falseFn,e.call(t,{error:{code:500,message:"XMLHttpRequest error"}},null)},n.onreadystatechange=function(){var r,i;if(4===n.readyState){try{r=JSON.parse(n.responseText)}catch(o){r=null,i={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!i&&r.error&&(i=r.error,r=null),n.onerror=a.Util.falseFn,e.call(t,i,r)}},n.ontimeout=function(){this.onerror()},n}function d(e,t,n,r){var i=c(n,r);return i.open("POST",e),null!=r&&void 0!==r.options&&(i.timeout=r.options.timeout),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(u(t)),i}function p(e,t,n,r){var i=c(n,r);return i.open("GET",e+"?"+u(t),!0),null!=r&&void 0!==r.options&&(i.timeout=r.options.timeout,r.options.withCredentials&&(i.withCredentials=!0)),i.send(null),i}function f(e,t,n,r){var i=u(t),s=c(n,r),a=(e+"?"+i).length;if(a<=2e3&&o.cors?s.open("GET",e+"?"+i):a>2e3&&o.cors&&(s.open("POST",e),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),null!=r&&void 0!==r.options&&(s.timeout=r.options.timeout,r.options.withCredentials&&(s.withCredentials=!0)),a<=2e3&&o.cors)s.send(null);else{if(!(a>2e3&&o.cors))return a<=2e3&&!o.cors?m(e,t,n,r):void g("a request to "+e+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy https://developers.arcgis.com/esri-leaflet/api-reference/request/");s.send(i)}return s}function m(e,t,n,r){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var i="c"+l;t.callback="window._EsriLeafletCallbacks."+i,window._EsriLeafletCallbacks[i]=function(e){if(!0!==window._EsriLeafletCallbacks[i]){var t,o=Object.prototype.toString.call(e);"[object Object]"!==o&&"[object Array]"!==o&&(t={error:{code:500,message:"Expected array or object as JSONP response"}},e=null),!t&&e.error&&(t=e,e=null),n.call(r,t,e),window._EsriLeafletCallbacks[i]=!0}};var o=a.DomUtil.create("script",null,document.body);return o.type="text/javascript",o.src=e+"?"+u(t),o.id=i,o.onerror=function(e){if(e&&!0!==window._EsriLeafletCallbacks[i]){n.call(r,{error:{code:500,message:"An unknown error occurred"}}),window._EsriLeafletCallbacks[i]=!0}},a.DomUtil.addClass(o,"esri-leaflet-jsonp"),l++,{id:i,url:o.src,abort:function(){window._EsriLeafletCallbacks._callback[i]({code:0,message:"Request aborted."})}}}var h=o.cors?p:m;function g(){console&&console.warn&&console.warn.apply(console,arguments)}h.CORS=p,h.JSONP=m;var y={request:f,get:h,post:d},v=function(e,t,n,r){var i=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),o=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0!==s){var a=i/s,l=o/s;if(a>=0&&a<=1&&l>=0&&l<=1)return!0}return!1},_=function(e,t){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(v(e[n],e[n+1],t[r],t[r+1]))return!0;return!1},b=function(e){return function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(e[0],e[e.length-1])||e.push(e[0]),e},w=function(e){for(var t,n=0,r=0,i=e.length,o=e[r];r<i-1;r++)n+=((t=e[r+1])[0]-o[0])*(t[1]+o[1]),o=t;return n>=0},E=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},x=function(e,t){var n=_(e,t),r=function(e,t){for(var n=!1,r=-1,i=e.length,o=i-1;++r<i;o=r)(e[r][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[o][0]-e[r][0])*(t[1]-e[r][1])/(e[o][1]-e[r][1])+e[r][0]&&(n=!n);return n}(e,t[0]);return!(n||!r)},S=function e(t,n){var r={};if(t.features){r.type="FeatureCollection",r.features=[];for(var i=0;i<t.features.length;i++)r.features.push(e(t.features[i],n))}if("number"==typeof t.x&&"number"==typeof t.y&&(r.type="Point",r.coordinates=[t.x,t.y],"number"==typeof t.z&&r.coordinates.push(t.z)),t.points&&(r.type="MultiPoint",r.coordinates=t.points.slice(0)),t.paths&&(1===t.paths.length?(r.type="LineString",r.coordinates=t.paths[0].slice(0)):(r.type="MultiLineString",r.coordinates=t.paths.slice(0))),t.rings&&(r=function(e){for(var t,n,r,i=[],o=[],s=0;s<e.length;s++){var a=b(e[s].slice(0));if(!(a.length<4))if(w(a)){var l=[a.slice().reverse()];i.push(l)}else o.push(a.slice().reverse())}for(var u=[];o.length;){r=o.pop();var c=!1;for(t=i.length-1;t>=0;t--)if(n=i[t][0],x(n,r)){i[t].push(r),c=!0;break}c||u.push(r)}for(;u.length;){r=u.pop();var d=!1;for(t=i.length-1;t>=0;t--)if(n=i[t][0],_(n,r)){i[t].push(r),d=!0;break}d||i.push([r.reverse()])}return 1===i.length?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}(t.rings.slice(0))),"number"==typeof t.xmin&&"number"==typeof t.ymin&&"number"==typeof t.xmax&&"number"==typeof t.ymax&&(r.type="Polygon",r.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.geometry||t.attributes)&&(r.type="Feature",r.geometry=t.geometry?e(t.geometry):null,r.properties=t.attributes?E(t.attributes):null,t.attributes))try{r.id=function(e,t){for(var n=t?[t,"OBJECTID","FID"]:["OBJECTID","FID"],r=0;r<n.length;r++){var i=n[r];if(i in e&&("string"==typeof e[i]||"number"==typeof e[i]))return e[i]}throw Error("No valid id attribute found")}(t.attributes,n)}catch(err){}return JSON.stringify(r.geometry)===JSON.stringify({})&&(r.geometry=null),t.spatialReference&&t.spatialReference.wkid&&4326!==t.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(t.spatialReference)),r},k=function(e){var t=[],n=e.slice(0),r=b(n.shift().slice(0));if(r.length>=4){w(r)||r.reverse(),t.push(r);for(var i=0;i<n.length;i++){var o=b(n[i].slice(0));o.length>=4&&(w(o)&&o.reverse(),t.push(o))}}return t},R=function e(t,n){n=n||"OBJECTID";var r,i={wkid:4326},o={};switch(t.type){case"Point":o.x=t.coordinates[0],o.y=t.coordinates[1],null!=t.coordinates[2]&&(o.z=t.coordinates[2]),o.spatialReference=i;break;case"MultiPoint":o.points=t.coordinates.slice(0),null!=t.coordinates[0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"LineString":o.paths=[t.coordinates.slice(0)],null!=t.coordinates[0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"MultiLineString":o.paths=t.coordinates.slice(0),null!=t.coordinates[0][0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"Polygon":o.rings=k(t.coordinates.slice(0)),null!=t.coordinates[0][0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"MultiPolygon":o.rings=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=k(e[n]),i=r.length-1;i>=0;i--){var o=r[i].slice(0);t.push(o)}return t}(t.coordinates.slice(0)),null!=t.coordinates[0][0][0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"Feature":t.geometry&&(o.geometry=e(t.geometry,n)),o.attributes=t.properties?E(t.properties):{},t.id&&(o.attributes[n]=t.id);break;case"FeatureCollection":for(o=[],r=0;r<t.features.length;r++)o.push(e(t.features[r],n));break;case"GeometryCollection":for(o=[],r=0;r<t.geometries.length;r++)o.push(e(t.geometries[r],n))}return o},C='Powered by <a href="https://www.esri.com">Esri</a>';function L(e,t){return R(e,t)}function A(e,t){return S(e,t)}function P(e){if("NaN"!==e.xmin&&"NaN"!==e.ymin&&"NaN"!==e.xmax&&"NaN"!==e.ymax){var t=(0,a.latLng)(e.ymin,e.xmin),n=(0,a.latLng)(e.ymax,e.xmax);return(0,a.latLngBounds)(t,n)}return null}function F(e){return{xmin:(e=(0,a.latLngBounds)(e)).getSouthWest().lng,ymin:e.getSouthWest().lat,xmax:e.getNorthEast().lng,ymax:e.getNorthEast().lat,spatialReference:{wkid:4326}}}var O=/^(OBJECTID|FID|OID|ID)$/i;function T(e){var t;if(e.objectIdFieldName)t=e.objectIdFieldName;else if(e.fields){for(var n=0;n<=e.fields.length-1;n++)if("esriFieldTypeOID"===e.fields[n].type){t=e.fields[n].name;break}if(!t)for(n=0;n<=e.fields.length-1;n++)if(e.fields[n].name.match(O)){t=e.fields[n].name;break}}return t}function I(e){for(var t in e.attributes)if(t.match(O))return t}function N(e,t){var n,r=e.features||e.results,i=r&&r.length;n=t||T(e);var o={type:"FeatureCollection",features:[]};if(i)for(var s=r.length-1;s>=0;s--){var a=A(r[s],n||I(r[s]));o.features.push(a)}return o}function B(e){return"/"!==(e=a.Util.trim(e))[e.length-1]&&(e+="/"),e}function M(e){if(-1!==e.url.indexOf("?")){e.requestParams=e.requestParams||{};var t=e.url.substring(e.url.indexOf("?")+1);e.url=e.url.split("?")[0],e.requestParams=JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return e.url=B(e.url.split("?")[0]),e}function j(e){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(e)}function z(e){var t;switch(e){case"Point":t="esriGeometryPoint";break;case"MultiPoint":t="esriGeometryMultipoint";break;case"LineString":case"MultiLineString":t="esriGeometryPolyline";break;case"Polygon":case"MultiPolygon":t="esriGeometryPolygon"}return t}function D(e){return e.getSize().x-s.attributionWidthOffset+"px"}function U(e){if(e.attributionControl){if(e.attributionControl._esriAttributionLayerCount||(e.attributionControl._esriAttributionLayerCount=0),0===e.attributionControl._esriAttributionLayerCount){if(!e.attributionControl._esriAttributionAddedOnce){var t=document.createElement("style");t.type="text/css",t.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(t);var n=document.createElement("style");n.type="text/css",n.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+D(e)+";}",document.getElementsByTagName("head")[0].appendChild(n),e.on("resize",(function(t){e.attributionControl&&(e.attributionControl._container.style.maxWidth=D(t.target))})),e.attributionControl._esriAttributionAddedOnce=!0}a.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution:hover"),a.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution")}e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount+1}}function G(e){e.attributionControl&&(e.attributionControl._esriAttributionLayerCount&&1===e.attributionControl._esriAttributionLayerCount&&(a.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution:hover"),a.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution")),e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount-1)}function W(e){var t={geometry:null,geometryType:null};return e instanceof a.LatLngBounds?(t.geometry=F(e),t.geometryType="esriGeometryEnvelope",t):(e.getLatLng&&(e=e.getLatLng()),e instanceof a.LatLng&&(e={type:"Point",coordinates:[e.lng,e.lat]}),e instanceof a.GeoJSON&&(e=e.getLayers()[0].feature.geometry,t.geometry=L(e),t.geometryType=z(e.type)),e.toGeoJSON&&(e=e.toGeoJSON()),"Feature"===e.type&&(e=e.geometry),"Point"===e.type||"LineString"===e.type||"Polygon"===e.type||"MultiPolygon"===e.type?(t.geometry=L(e),t.geometryType=z(e.type),t):void g("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function H(e,t){o.cors&&f(e,{},a.Util.bind((function(e,n){if(!e){t._esriAttributions=[];for(var r=0;r<n.contributors.length;r++)for(var i=n.contributors[r],o=0;o<i.coverageAreas.length;o++){var s=i.coverageAreas[o],l=(0,a.latLng)(s.bbox[0],s.bbox[1]),u=(0,a.latLng)(s.bbox[2],s.bbox[3]);t._esriAttributions.push({attribution:i.attribution,score:s.score,bounds:(0,a.latLngBounds)(l,u),minZoom:s.zoomMin,maxZoom:s.zoomMax})}t._esriAttributions.sort((function(e,t){return t.score-e.score})),V({target:t})}}),this))}function V(e){var t=e.target,n=t._esriAttributions;if(t&&t.attributionControl){var r=t.attributionControl._container.querySelector(".esri-dynamic-attribution");if(r&&n){for(var i="",o=t.getBounds(),s=(0,a.latLngBounds)(o.getSouthWest().wrap(),o.getNorthEast().wrap()),l=t.getZoom(),u=0;u<n.length;u++){var c=n[u],d=c.attribution;!i.match(d)&&c.bounds.intersects(s)&&l>=c.minZoom&&l<=c.maxZoom&&(i+=", "+d)}i=C+" | "+i.substr(2),r.innerHTML=i,r.style.maxWidth=D(t),t.fire("attributionupdated",{attribution:i})}}}var Z={warn:g,cleanUrl:B,getUrlParams:M,isArcgisOnline:j,geojsonTypeToArcGIS:z,responseToFeatureCollection:N,geojsonToArcGIS:L,arcgisToGeoJSON:A,boundsToExtent:F,extentToBounds:P,calcAttributionWidth:D,setEsriAttribution:U,removeEsriAttribution:G,_setGeometry:W,_getAttributionData:H,_updateMapAttribution:V,_findIdAttributeFromFeature:I,_findIdAttributeFromResponse:T},q=a.Class.extend({options:{proxy:!1,useCors:r},generateSetter:function(e,t){return a.Util.bind((function(t){return this.params[e]=t,this}),t)},initialize:function(e){if(e.request&&e.options?(this._service=e,a.Util.setOptions(this,e.options)):(a.Util.setOptions(this,e),this.options.url=B(e.url)),this.params=a.Util.extend({},this.params||{}),this.setters)for(var t in this.setters){var n=this.setters[t];this[t]=this.generateSetter(n,this)}},token:function(e){return this._service?this._service.authenticate(e):this.params.token=e,this},apikey:function(e){return this.token(e)},format:function(e){return this.params.returnUnformattedValues=!e,this},request:function(e,t){return this.options.requestParams&&a.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,e,t):this._request("request",this.path,this.params,e,t)},_request:function(e,t,n,r,i){var o=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return"get"!==e&&"request"!==e||this.options.useCors?y[e](o,n,r,i):y.get.JSONP(o,n,r,i)}});function J(e){return e=M(e),new q(e)}var K=q.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(e,t){return e=(0,a.latLng)(e),this.params.geometry=[e.lng,e.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=t,this.params.inSR=4326,this},where:function(e){return this.params.where=e,this},between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},orderBy:function(e,t){return t=t||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[e,t].join(" "),this},run:function(e,t){return this._cleanParams(),this.options.isModern||j(this.options.url)&&void 0===this.options.isModern?(this.params.f="geojson",this.request((function(n,r){this._trapSQLerrors(n),e.call(t,n,r,r)}),this)):this.request((function(n,r){this._trapSQLerrors(n),e.call(t,n,r&&N(r),r)}),this)},count:function(e,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request((function(t,n){e.call(this,t,n&&n.count,n)}),t)},ids:function(e,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request((function(t,n){e.call(this,t,n&&n.objectIds,n)}),t)},bounds:function(e,t){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request((function(n,r){r&&r.extent&&P(r.extent)?e.call(t,n,P(r.extent),r):(n={message:"Invalid Bounds"},e.call(t,n,null,r))}),t)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(e){var t=(0,a.point)(e);return this.params.pixelSize=[t.x,t.y],this},layer:function(e){return this.path=e+"/query",this},_trapSQLerrors:function(e){e&&"400"===e.code&&g("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(e){this.params.inSR=4326;var t=W(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function X(e){return new K(e)}var Q=X,Y=q.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request((function(n,r){e.call(t,n,r&&N(r),r)}),t)}});function $(e){return new Y(e)}var ee=$,te=q.extend({path:"identify",between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this}});function ne(e){return new te(e)}var re=te.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(e){var t=F(e.getBounds()),n=e.getSize();return this.params.imageDisplay=[n.x,n.y,96],this.params.mapExtent=[t.xmin,t.ymin,t.xmax,t.ymax],this},at:function(e){return 2===e.length&&(e=(0,a.latLng)(e)),this._setGeometryParams(e),this},layerDef:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request((function(n,r){if(n)e.call(t,n,void 0,r);else{var i=N(r);r.results=r.results.reverse();for(var o=0;o<i.features.length;o++){i.features[o].layerId=r.results[o].layerId}e.call(t,void 0,i,r)}}))},_setGeometryParams:function(e){var t=W(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function ie(e){return new re(e)}var oe=ie,se=te.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(e){return e=(0,a.latLng)(e),this.params.geometry=JSON.stringify({x:e.lng,y:e.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(e,t){return this.request((function(n,r){e.call(t,n,r&&this._responseToGeoJSON(r),r)}),this)},_responseToGeoJSON:function(e){var t=e.location,n=e.catalogItems,r=e.catalogItemVisibilities,i={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[t.x,t.y]},crs:{type:"EPSG",properties:{code:t.spatialReference.wkid}},properties:{OBJECTID:e.objectId,name:e.name,value:e.value},id:e.objectId}};if(e.properties&&e.properties.Values&&(i.pixel.properties.values=e.properties.Values),n&&n.features&&(i.catalogItems=N(n),r&&r.length===i.catalogItems.features.length))for(var o=r.length-1;o>=0;o--)i.catalogItems.features[o].properties.catalogItemVisibility=r[o];return i}});function ae(e){return new se(e)}var le=ae,ue=a.Evented.extend({options:{proxy:!1,useCors:r,timeout:0},initialize:function(e){e=e||{},this._requestQueue=[],this._authenticating=!1,a.Util.setOptions(this,e),this.options.url=B(this.options.url)},get:function(e,t,n,r){return this._request("get",e,t,n,r)},post:function(e,t,n,r){return this._request("post",e,t,n,r)},request:function(e,t,n,r){return this._request("request",e,t,n,r)},metadata:function(e,t){return this._request("get","",{},e,t)},authenticate:function(e){return this._authenticating=!1,this.options.token=e,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(e){this.options.timeout=e},_request:function(e,t,n,r,i){this.fire("requeststart",{url:this.options.url+t,params:n,method:e},!0);var o=this._createServiceCallback(e,t,n,r,i);if(this.options.token&&(n.token=this.options.token),this.options.requestParams&&a.Util.extend(n,this.options.requestParams),!this._authenticating){var s=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return"get"!==e&&"request"!==e||this.options.useCors?y[e](s,n,o,i):y.get.JSONP(s,n,o,i)}this._requestQueue.push([e,t,n,r,i])},_createServiceCallback:function(e,t,n,r,i){return a.Util.bind((function(o,s){!o||499!==o.code&&498!==o.code||(this._authenticating=!0,this._requestQueue.push([e,t,n,r,i]),this.fire("authenticationrequired",{authenticate:a.Util.bind(this.authenticate,this)},!0),o.authenticate=a.Util.bind(this.authenticate,this)),r.call(i,o,s),o?this.fire("requesterror",{url:this.options.url+t,params:n,message:o.message,code:o.code,method:e},!0):this.fire("requestsuccess",{url:this.options.url+t,params:n,response:s,method:e},!0),this.fire("requestend",{url:this.options.url+t,params:n,method:e},!0)}),this)},_runQueue:function(){for(var e=this._requestQueue.length-1;e>=0;e--){var t=this._requestQueue[e];this[t.shift()].apply(this,t)}this._requestQueue=[]}});function ce(e){return e=M(e),new ue(e)}var de=ue.extend({identify:function(){return oe(this)},find:function(){return ee(this)},query:function(){return Q(this)}});function pe(e){return new de(e)}var fe=pe,me=ue.extend({query:function(){return Q(this)},identify:function(){return le(this)}});function he(e){return new me(e)}var ge=he,ye=ue.extend({options:{idAttribute:"OBJECTID"},query:function(){return Q(this)},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,t,n){for(var r=e.features?e.features:[e],i=r.length-1;i>=0;i--)delete r[i].id;return e=L(e),e=r.length>1?e:[e],this.post("addFeatures",{features:e},(function(e,r){var i=r&&r.addResults?r.addResults.length>1?r.addResults:r.addResults[0]:void 0;t&&t.call(n,e||r.addResults[0].error,i)}),n)},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var r=e.features?e.features:[e];return e=L(e,this.options.idAttribute),e=r.length>1?e:[e],this.post("updateFeatures",{features:e},(function(e,r){var i=r&&r.updateResults?r.updateResults.length>1?r.updateResults:r.updateResults[0]:void 0;t&&t.call(n,e||r.updateResults[0].error,i)}),n)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.post("deleteFeatures",{objectIds:e},(function(e,r){var i=r&&r.deleteResults?r.deleteResults.length>1?r.deleteResults:r.deleteResults[0]:void 0;t&&t.call(n,e||r.deleteResults[0].error,i)}),n)}});function ve(e){return new ye(e)}var _e=ve,be="https:"!==window.location.protocol?"http:":"https:",we=a.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:be+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:be+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:be+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:be+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:be+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(e,t){var n;if("object"==typeof e&&e.urlTemplate&&e.options)n=e;else{if("string"!=typeof e||!we.TILES[e])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');n=we.TILES[e]}var r=a.Util.extend(n.options,t);a.Util.setOptions(this,r),this.options.ignoreDeprecationWarning||console.warn("WARNING: L.esri.BasemapLayer uses data services that are in mature support and are not being updated. Please use L.esri.Vector.vectorBasemapLayer instead. More info: https://esriurl.com/esri-leaflet-basemap"),this.options.token&&-1===n.urlTemplate.indexOf("token=")&&(n.urlTemplate+="?token="+this.options.token),this.options.proxy&&(n.urlTemplate=this.options.proxy+"?"+n.urlTemplate),a.TileLayer.prototype.initialize.call(this,n.urlTemplate,r)},onAdd:function(e){U(e),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&H((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,e),e.on("moveend",V),a.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){G(e),e.off("moveend",V),a.TileLayer.prototype.onRemove.call(this,e)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var e=this._map.createPane(this.options.pane);e.style.pointerEvents="none",e.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var e='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return e}});function Ee(e,t){return new we(e,t)}var xe=a.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(e){e=M(e=a.Util.setOptions(this,e)),this.tileUrl=(e.proxy?e.proxy+"?":"")+e.url+"tile/{z}/{y}/{x}"+(e.requestParams&&Object.keys(e.requestParams).length>0?a.Util.getParamString(e.requestParams):""),-1!==e.url.indexOf("{s}")&&e.subdomains&&(e.url=e.url.replace("{s}",e.subdomains[0])),this.service=fe(e),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(e.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),e.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),a.TileLayer.prototype.initialize.call(this,this.tileUrl,e)},getTileUrl:function(e){var t=this._getZoomForUrl();return a.Util.template(this.tileUrl,a.Util.extend({s:this._getSubdomain(e),x:e.x,y:e.y,z:this._lodMap&&void 0!==this._lodMap[t]?this._lodMap[t]:t},this.options))},createTile:function(e,t){var n=document.createElement("img");return a.DomEvent.on(n,"load",a.Util.bind(this._tileOnLoad,this,t,n)),a.DomEvent.on(n,"error",a.Util.bind(this._tileOnError,this,t,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",!this._lodMap||this._lodMap&&void 0!==this._lodMap[this._getZoomForUrl()]?n.src=this.getTileUrl(e):this.once("lodmap",(function(){n.src=this.getTileUrl(e)}),this),n},onAdd:function(e){U(e),this._lodMap||this.metadata((function(t,n){if(!t&&n.spatialReference){var r=n.spatialReference.latestWkid||n.spatialReference.wkid;if(!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution())),e.options.crs!==a.CRS.EPSG3857||102100!==r&&3857!==r)e.options.crs&&e.options.crs.code&&e.options.crs.code.indexOf(r)>-1||g("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/");else{this._lodMap={};for(var i=n.tileInfo.lods,o=xe.MercatorZoomLevels,s=0;s<i.length;s++){var l=i[s];for(var u in o){var c=o[u];if(this._withinPercentage(l.resolution,c,this.options.zoomOffsetAllowance)){this._lodMap[u]=l.level;break}}}this.fire("lodmap")}}}),this),a.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){G(e),a.TileLayer.prototype.onRemove.call(this,e)},metadata:function(e,t){return this.service.metadata(e,t),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(e){var t="?token="+e;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,t):this.tileUrl+t,this.options.token=e,this.service.authenticate(e),this},_withinPercentage:function(e,t,n){return Math.abs(e/t-1)<n}});function Se(e,t){return new xe(e,t)}var ke=a.ImageOverlay.extend({onAdd:function(e){this._topLeft=e.getPixelBounds().min,a.ImageOverlay.prototype.onAdd.call(this,e)},_reset:function(){this._map.options.crs===a.CRS.EPSG3857?a.ImageOverlay.prototype._reset.call(this):a.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),Re=a.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:r,attribution:null,interactive:!1,alt:""},onAdd:function(e){U(e),this.options.zIndex&&(this.options.position=null),this._update=a.Util.throttle(this._update,this.options.updateInterval,this),e.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata((function(t,n){!t&&!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}),this)},onRemove:function(e){G(e),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(e,t){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=(0,a.popup)(t),this._popupFunction=e,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(e){return this.options.zIndex=e,this._currentImage&&this._currentImage.setZIndex(e),this},_setAutoZIndex:function(e){if(this._currentImage){for(var t,n=this._currentImage.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._currentImage._image&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t){return this.options.from=e,this.options.to=t,this._update(),this},metadata:function(e,t){return this.service.metadata(e,t),this},authenticate:function(e){return this.service.authenticate(e),this},redraw:function(){this._update()},_renderImage:function(e,t,n){if(this._map){if(n&&(e="data:"+n+";base64,"+e),!e)return;var r=new ke(e,t,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),i=function(){this._map.removeLayer(r),this.fire("error"),r.off("load",o,this)},o=function(e){if(r.off("error",i,this),this._map){var n=e.target,o=this._currentImage;n._bounds.equals(t)&&n._bounds.equals(this._map.getBounds())?(this._currentImage=n,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),o&&this._map&&this._map.removeLayer(o),o&&o._map&&o._map.removeLayer(o)):this._map.removeLayer(n)}this.fire("load",{bounds:t})};r.once("error",i,this),r.once("load",o,this)}},_update:function(){if(this._map){var e=this._map.getZoom(),t=this._map.getBounds();if(!(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress))if(e>this.options.maxZoom||e<this.options.minZoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var n=this._buildExportParams();a.Util.extend(n,this.options.requestParams),n?(this._requestExport(n,t),this.fire("loading",{bounds:t})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(e,t,n,r){if(e=(0,a.latLng)(e),this._shouldRenderPopup&&this._lastClick.equals(e)){var i=this._popupFunction(t,n,r);i&&this._popup.setLatLng(e).setContent(i).openOn(this._map)}},_resetPopupState:function(e){this._shouldRenderPopup=!1,this._lastClick=e.latlng},_calculateBbox:function(){var e=this._map.getPixelBounds(),t=this._map.unproject(e.getBottomLeft()),n=this._map.unproject(e.getTopRight()),r=this._map.options.crs.project(n),i=this._map.options.crs.project(t),o=(0,a.bounds)(r,i);return[o.getBottomLeft().x,o.getBottomLeft().y,o.getTopRight().x,o.getTopRight().y].join(",")},_calculateImageSize:function(){var e=this._map.getPixelBounds(),t=this._map.getSize(),n=this._map.unproject(e.getBottomLeft()),r=this._map.unproject(e.getTopRight()),i=this._map.latLngToLayerPoint(r).y,o=this._map.latLngToLayerPoint(n).y;return(i>0||o<t.y)&&(t.y=o-i),t.x+","+t.y}}),Ce=Re.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(e){e=M(e),this.service=ge(e),this.service.addEventParent(this),a.Util.setOptions(this,e)},setPixelType:function(e){return this.options.pixelType=e,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(e){return a.Util.isArray(e)?this.options.bandIds=e.join(","):this.options.bandIds=e.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(e,t){return a.Util.isArray(e)?this.options.noData=e.join(","):this.options.noData=e.toString(),t&&(this.options.noDataInterpretation=t),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(e){this.options.renderingRule=e,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(e){this.options.mosaicRule=e,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(e){var t=a.Util.bind((function(t,n,r){t||setTimeout(a.Util.bind((function(){this._renderPopup(e.latlng,t,n,r)}),this),300)}),this),n=this.identify().at(e.latlng);this.options.mosaicRule&&n.setMosaicRule(this.options.mosaicRule),n.run(t),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};return this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(t.pixelType=this.options.pixelType),this.options.interpolation&&(t.interpolation=this.options.interpolation),this.options.compressionQuality&&(t.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(t.bandIds=this.options.bandIds),(0===this.options.noData||this.options.noData)&&(t.noData=this.options.noData),this.options.noDataInterpretation&&(t.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(t.token=this.service.options.token),this.options.renderingRule&&(t.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(t.mosaicRule=JSON.stringify(this.options.mosaicRule)),t},_requestExport:function(e,t){if("json"===this.options.f)this.service.request("exportImage",e,(function(e,n){e||(this.options.token&&(n.href+="?token="+this.options.token),this.options.proxy&&(n.href=this.options.proxy+"?"+n.href),this._renderImage(n.href,t))}),this);else{e.f="image";var n=this.options.url+"exportImage"+a.Util.getParamString(e);this.options.proxy&&(n=this.options.proxy+"?"+n),this._renderImage(n,t)}}});function Le(e,t){return new Ce(e,t)}var Ae=Re.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(e){e=M(e),this.service=fe(e),this.service.addEventParent(this),a.Util.setOptions(this,e)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(e){return this.options.dynamicLayers=e,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(e){return this.options.layers=e,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(e){return this.options.layerDefs=e,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(e){return this.options.timeOptions=e,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(e){var t,n=a.Util.bind((function(t,n,r){t||setTimeout(a.Util.bind((function(){this._renderPopup(e.latlng,t,n,r)}),this),300)}),this);if((t=this.options.popup?this.options.popup.on(this._map).at(e.latlng):this.identify().on(this._map).at(e.latlng)).params.maxAllowableOffset||t.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?t.layers("visible:"+this.options.layers.join(",")):t.layers("visible")),this.options.layerDefs&&"string"!=typeof this.options.layerDefs&&!t.params.layerDefs)for(var r in this.options.layerDefs)Object.prototype.hasOwnProperty.call(this.options.layerDefs,r)&&t.layerDef(r,this.options.layerDefs[r]);t.run(n),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};if(this.options.dynamicLayers&&(t.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;t.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(t.layerDefs="string"==typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(t.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(t.token=this.service.options.token),this.options.proxy&&(t.proxy=this.options.proxy),this.options.disableCache&&(t._ts=Date.now()),t},_requestExport:function(e,t){if("json"===this.options.f)this.service.request("export",e,(function(e,n){e||(this.options.token&&n.href&&(n.href+="?token="+this.options.token),this.options.proxy&&n.href&&(n.href=this.options.proxy+"?"+n.href),n.href?this._renderImage(n.href,t):this._renderImage(n.imageData,t,n.contentType))}),this);else{e.f="image";var n=this.options.url+"export"+a.Util.getParamString(e);this.options.proxy&&(n=this.options.proxy+"?"+n),this._renderImage(n,t)}}});function Pe(e,t){return new Ae(e,t)}var Fe=a.Layer.extend({options:{cellSize:512,updateWhenIdle:a.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(e){a.Util.setOptions(this,e)},onAdd:function(e){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(e){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),e},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var e=this.options.cellSize;return e instanceof a.Point?e:new a.Point(e,e)},_pruneCells:function(){if(this._map){var e,t;for(e in this._cells)(t=this._cells[e]).retain=t.current;for(e in this._cells)if((t=this._cells[e]).current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._cells)this._cells[e].retain||this._removeCell(e)}},_removeAllCells:function(){for(var e in this._cells)this._removeCell(e)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),s=n-1,l=new a.Point(+i,+o);l.z=+s;var u=this._cellCoordsToKey(l),c=this._cells[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>r&&this._retainParent(i,o,s,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var s=new a.Point(i,o);s.z=n+1;var l=this._cellCoordsToKey(s),u=this._cells[l];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);t||this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_setView:function(e,t,n,r){var i=Math.round(t);r||(this._cellZoom=i,this._abortLoading&&this._abortLoading(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneCells(),this._noPrune=!!n)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._cellSize=this.getCellSize(),r=this._cellZoom,i=this._map.getPixelWorldBounds(this._cellZoom);i&&(this._globalCellRange=this._pxBoundsToCellRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(e){e&&(e.pinch||e.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._cellZoom),i=t.project(e,this._cellZoom).floor(),o=t.getSize().divideBy(2*r);return new a.Bounds(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=Math.round(t.getZoom());void 0===e&&(e=t.getCenter());var r=this._getCelldPixelBounds(e),i=this._pxBoundsToCellRange(r),o=i.getCenter(),s=[],l=this.options.keepBuffer,u=new a.Bounds(i.getBottomLeft().subtract([l,-l]),i.getTopRight().add([l,-l]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var c in this._cells){var d=this._cells[c].coords;d.z===this._cellZoom&&u.contains(new a.Point(d.x,d.y))||(this._cells[c].current=!1)}if(Math.abs(n-this._cellZoom)>1)this._setView(e,n);else{for(var p=i.min.y;p<=i.max.y;p++)for(var f=i.min.x;f<=i.max.x;f++){var m=new a.Point(f,p);if(m.z=this._cellZoom,this._isValidCell(m)){var h=this._cells[this._cellCoordsToKey(m)];h?h.current=!0:s.push(m)}}if(s.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==s.length)for(this._loading||(this._loading=!0),f=0;f<s.length;f++){var g=this._cellCoordsToKey(s[f]),y=this._keyToCellCoords(g);this._activeCells[y]?this._reuseCell(s[f]):this._createCell(s[f])}}}},_isValidCell:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalCellRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._cellCoordsToBounds(e);return(0,a.toLatLngBounds)(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._cellCoordsToBounds(this._keyToCellCoords(e))},_cellCoordsToNwSe:function(e){var t=this._map,n=this.getCellSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_cellCoordsToBounds:function(e){var t=this._cellCoordsToNwSe(e),n=new a.LatLngBounds(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_cellCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToCellCoords:function(e){var t=e.split(":"),n=new a.Point(+t[0],+t[1]);return n.z=+t[2],n},_removeCell:function(e){var t=this._cells[e];if(t){var n=this._keyToCellCoords(e),r=this._wrapCoords(n),i=this._cellCoordsToBounds(this._wrapCoords(n));t.current=!1,delete this._cells[e],this._activeCells[e]=t,this.cellLeave(i,r,e),this.fire("cellleave",{key:e,coords:r,bounds:i})}},_reuseCell:function(e){var t=this._cellCoordsToKey(e);this._cells[t]=this._activeCells[t],this._cells[t].current=!0;var n=this._wrapCoords(e),r=this._cellCoordsToBounds(this._wrapCoords(e));this.cellEnter(r,n,t),this.fire("cellenter",{key:t,coords:n,bounds:r})},_createCell:function(e){var t=this._cellCoordsToKey(e),n=this._wrapCoords(e),r=this._cellCoordsToBounds(this._wrapCoords(e));this.createCell(r,n,t),this.fire("cellcreate",{key:t,coords:n,bounds:r}),this._cells[t]={coords:e,current:!0},a.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(e,t,n){var r=this._cellCoordsToKey(e);(n=this._cells[r])&&(n.loaded=+new Date,n.active=!0)},_getCellPos:function(e){return e.scaleBy(this.getCellSize())},_wrapCoords:function(e){var t=new a.Point(this._wrapX?a.Util.wrapNum(e.x,this._wrapX):e.x,this._wrapY?a.Util.wrapNum(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToCellRange:function(e){var t=this.getCellSize();return new a.Bounds(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))}});function Oe(e){this.values=[].concat(e||[])}Oe.prototype.query=function(e){var t=this.getIndex(e);return this.values[t]},Oe.prototype.getIndex=function(e){this.dirty&&this.sort();for(var t,n,r=0,i=this.values.length-1;r<=i;)if(t=(r+i)/2|0,+(n=this.values[Math.round(t)]).value<+e)r=t+1;else{if(!(+n.value>+e))return t;i=t-1}return Math.abs(~i)},Oe.prototype.between=function(e,t){var n=this.getIndex(e),r=this.getIndex(t);if(0===n&&0===r)return[];for(;this.values[n-1]&&this.values[n-1].value===e;)n--;for(;this.values[r+1]&&this.values[r+1].value===t;)r++;return this.values[r]&&this.values[r].value===t&&this.values[r+1]&&r++,this.values.slice(n,r)},Oe.prototype.insert=function(e){return this.values.splice(this.getIndex(e.value),0,e),this},Oe.prototype.bulkAdd=function(e,t){return this.values=this.values.concat([].concat(e||[])),t?this.sort():this.dirty=!0,this},Oe.prototype.sort=function(){return this.values.sort((function(e,t){return+t.value-+e.value})).reverse(),this.dirty=!1,this};var Te=Oe,Ie=Fe.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(e){if(Fe.prototype.initialize.call(this,e),e=M(e),e=a.Util.setOptions(this,e),this.service=_e(e),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var t=!1,n=0;n<this.options.fields.length;n++)this.options.fields[n].match(/^(OBJECTID|FID|OID|ID)$/i)&&(t=!0);!1===t&&g("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Te,this._endTimeIndex=new Te):this.options.timeField&&(this._timeIndex=new Te),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(e){return U(e),this.service.metadata((function(t,n){if(!t){var r=n.supportedQueryFormats,i=!1;(!1===this.service.options.isModern||this.options.fetchAllFeatures)&&(i=!0),!i&&r&&-1!==r.indexOf("geoJSON")&&(this.service.options.isModern=!0),n.objectIdField&&(this.service.options.idAttribute=n.objectIdField),!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}}),this),e.on("zoomend",this._handleZoomChange,this),Fe.prototype.onAdd.call(this,e)},onRemove:function(e){return G(e),e.off("zoomend",this._handleZoomChange,this),Fe.prototype.onRemove.call(this,e)},getAttribution:function(){return this.options.attribution},createCell:function(e,t){this._visibleZoom()&&this._requestFeatures(e,t)},_requestFeatures:function(e,t,n,r){this._activeRequests++,r=r||0;var i=this.options.where;return 1===this._activeRequests&&this.fire("loading",{bounds:e},!0),this._buildQuery(e,r).run((function(o,s,l){l&&l.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===i&&(!o&&s&&s.features.length&&a.Util.requestAnimFrame(a.Util.bind((function(){this._addFeatures(s.features,t),this._postProcessFeatures(e)}),this)),o||!s||s.features.length||this._postProcessFeatures(e),o&&this._postProcessFeatures(e),n&&n.call(this,o,s),l&&(l.exceededTransferLimit||l.properties&&l.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(e,t,n,r+s.features.length))}),this)},_postProcessFeatures:function(e){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:e})},_cacheKey:function(e){return e.z+":"+e.x+":"+e.y},_addFeatures:function(e,t){if(t){var n=this._cacheKey(t);this._cache[n]=this._cache[n]||[]}for(var r=e.length-1;r>=0;r--){var i=e[r].id;-1===this._currentSnapshot.indexOf(i)&&this._currentSnapshot.push(i),void 0!==n&&-1===this._cache[n].indexOf(i)&&this._cache[n].push(i)}this.options.timeField&&this._buildTimeIndexes(e),this.createLayers(e)},_buildQuery:function(e,t){var n=this.service.query().intersects(e).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(t))&&(n=n.offset(t)),n.params.resultType="tile",this.options.requestParams&&a.Util.extend(n.params,this.options.requestParams),this.options.simplifyFactor&&n.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&n.between(this.options.from,this.options.to),n},setWhere:function(e,t,n){this.options.where=e&&e.length?e:"1=1";for(var r=[],i=[],o=0,s=null,l=a.Util.bind((function(l,u){if(l&&(s=l),u)for(var c=u.features.length-1;c>=0;c--)i.push(u.features[c].id);--o<=0&&this._visibleZoom()&&e===this.options.where&&(this._currentSnapshot=i,a.Util.requestAnimFrame(a.Util.bind((function(){this.removeLayers(r),this.addLayers(i),t&&t.call(n,s)}),this)))}),this),u=this._currentSnapshot.length-1;u>=0;u--)r.push(this._currentSnapshot[u]);for(var c in this._cache={},this._cells){o++;var d=this._keyToCellCoords(c),p=this._cellCoordsToBounds(d);this._requestFeatures(p,d,l)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t,n,r){var i=this.options.from,o=this.options.to,s=0,l=null,u=a.Util.bind((function(a){a&&(l=a),this._filterExistingFeatures(i,o,e,t),s--,n&&s<=0&&n.call(r,l)}),this);if(this.options.from=e,this.options.to=t,this._filterExistingFeatures(i,o,e,t),"server"===this.options.timeFilterMode)for(var c in this._cells){s++;var d=this._keyToCellCoords(c),p=this._cellCoordsToBounds(d);this._requestFeatures(p,d,u)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(e,t,n,r){var i=e&&t?this._getFeaturesInTimeRange(e,t):this._currentSnapshot,o=this._getFeaturesInTimeRange(n,r);if(o.indexOf)for(var s=0;s<o.length;s++){var l=i.indexOf(o[s]);l>=0&&i.splice(l,1)}a.Util.requestAnimFrame(a.Util.bind((function(){this.removeLayers(i),this.addLayers(o)}),this))},_getFeaturesInTimeRange:function(e,t){var n,r=[];if(this.options.timeField.start&&this.options.timeField.end){var i=this._startTimeIndex.between(e,t),o=this._endTimeIndex.between(e,t);n=i.concat(o)}else{if(!this._timeIndex)return g("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];n=this._timeIndex.between(e,t)}for(var s=n.length-1;s>=0;s--)r.push(n[s].id);return r},_buildTimeIndexes:function(e){var t,n;if(this.options.timeField.start&&this.options.timeField.end){var r=[],i=[];for(t=e.length-1;t>=0;t--)n=e[t],r.push({id:n.id,value:new Date(n.properties[this.options.timeField.start])}),i.push({id:n.id,value:new Date(n.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(r),this._endTimeIndex.bulkAdd(i)}else{var o=[];for(t=e.length-1;t>=0;t--)n=e[t],o.push({id:n.id,value:new Date(n.properties[this.options.timeField])});this._timeIndex.bulkAdd(o)}},_featureWithinTimeRange:function(e){if(!this.options.from||!this.options.to)return!0;var t=+this.options.from.valueOf(),n=+this.options.to.valueOf();if("string"==typeof this.options.timeField){var r=+e.properties[this.options.timeField];return r>=t&&r<=n}if(this.options.timeField.start&&this.options.timeField.end){var i=+e.properties[this.options.timeField.start],o=+e.properties[this.options.timeField.end];return i>=t&&i<=n||o>=t&&o<=n||i<=t&&o>=n}},_visibleZoom:function(){if(!this._map)return!1;var e=this._map.getZoom();return!(e>this.options.maxZoom||e<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var e in this._cells){var t=this._cells[e].coords,n=this._cacheKey(t);this._cache[n]&&this.addLayers(this._cache[n])}else this.removeLayers(this._currentSnapshot),this._currentSnapshot=[]},authenticate:function(e){return this.service.authenticate(e),this},metadata:function(e,t){return this.service.metadata(e,t),this},query:function(){return this.service.query()},_getMetadata:function(e){this._metadata?e(undefined,this._metadata):this.metadata(a.Util.bind((function(t,n){this._metadata=n,e(t,this._metadata)}),this))},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,t,n){this._getMetadata(a.Util.bind((function(r,i){if(r)t&&t.call(this,r,null);else{var o=e.features?e.features:[e];this.service.addFeatures(e,a.Util.bind((function(e,r){if(!e){for(var s=o.length-1;s>=0;s--)o[s].properties[i.objectIdField]=o.length>1?r[s].objectId:r.objectId,o[s].id=o.length>1?r[s].objectId:r.objectId;this._addFeatures(o)}t&&t.call(n,e,r)}),this))}}),this))},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var r=e.features?e.features:[e];this.service.updateFeatures(e,(function(e,i){if(!e){for(var o=r.length-1;o>=0;o--)this.removeLayers([r[o].id],!0);this._addFeatures(r)}t&&t.call(n,e,i)}),this)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.service.deleteFeatures(e,(function(e,r){var i=r.length?r:[r];if(!e&&i.length>0)for(var o=i.length-1;o>=0;o--)this.removeLayers([i[o].objectId],!0);t&&t.call(n,e,r)}),this)}}),Ne=Ie.extend({options:{cacheLayers:!0},initialize:function(e){e.apikey&&(e.token=e.apikey),Ie.prototype.initialize.call(this,e),this._originalStyle=this.options.style,this._layers={}},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t]),this.fire("removefeature",{feature:this._layers[t].feature,permanent:!1},!0);return Ie.prototype.onRemove.call(this,e)},createNewLayer:function(e){var t=a.GeoJSON.geometryToLayer(e,this.options);return t&&(t.defaultOptions=t.options),t},_updateLayer:function(e,t){var n=[],r=this.options.coordsToLatLng||a.GeoJSON.coordsToLatLng;switch(t.properties&&(e.feature.properties=t.properties),t.geometry.type){case"Point":n=a.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.setLatLng(n);break;case"LineString":n=a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,0,r),e.setLatLngs(n);break;case"MultiLineString":case"Polygon":n=a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1,r),e.setLatLngs(n);break;case"MultiPolygon":n=a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,2,r),e.setLatLngs(n)}this.redraw(e.feature.id)},createLayers:function(e){for(var t=e.length-1;t>=0;t--){var n,r=e[t],i=this._layers[r.id];!this._visibleZoom()||!i||this._map.hasLayer(i)||this.options.timeField&&!this._featureWithinTimeRange(r)||(this._map.addLayer(i),this.fire("addfeature",{feature:i.feature},!0)),i&&(i.setLatLngs||i.setLatLng)&&this._updateLayer(i,r),i||((n=this.createNewLayer(r))?(n.feature=r,n.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(n.feature,n),this._layers[n.feature.id]=n,this.setFeatureStyle(n.feature.id,this.options.style),this.fire("createfeature",{feature:n.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(r))&&this._map.addLayer(n)):g("invalid GeoJSON encountered"))}},addLayers:function(e){for(var t=e.length-1;t>=0;t--){var n=this._layers[e[t]];!n||this.options.timeField&&!this._featureWithinTimeRange(n.feature)||(this._map.addLayer(n),this.fire("addfeature",{feature:n.feature},!0))}},removeLayers:function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n],i=this._layers[r];i&&(this.fire("removefeature",{feature:i.feature,permanent:t},!0),this._map.removeLayer(i)),i&&t&&delete this._layers[r]}},cellEnter:function(e,t){this._visibleZoom()&&!this._zooming&&this._map&&a.Util.requestAnimFrame(a.Util.bind((function(){var e=this._cacheKey(t),n=this._cellCoordsToKey(t),r=this._cache[e];this._activeCells[n]&&r&&this.addLayers(r)}),this))},cellLeave:function(e,t){this._zooming||a.Util.requestAnimFrame(a.Util.bind((function(){if(this._map){var e=this._cacheKey(t),n=this._cellCoordsToKey(t),r=this._cache[e],i=this._map.getBounds();if(!this._activeCells[n]&&r){for(var o=!0,s=0;s<r.length;s++){var a=this._layers[r[s]];a&&a.getBounds&&i.intersects(a.getBounds())&&(o=!1)}o&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&o&&(delete this._cache[e],delete this._cells[n],delete this._activeCells[n])}}}),this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature((function(e){this.resetFeatureStyle(e.feature.id)}),this),this},setStyle:function(e){return this.options.style=e,this.eachFeature((function(t){this.setFeatureStyle(t.feature.id,e)}),this),this},resetFeatureStyle:function(e){var t=this._layers[e],n=this._originalStyle||a.Path.prototype.options;return t&&(a.Util.extend(t.options,t.defaultOptions),this.setFeatureStyle(e,n)),this},setFeatureStyle:function(e,t){var n=this._layers[e];return"function"==typeof t&&(t=t(n.feature)),n.setStyle&&n.setStyle(t),this},eachActiveFeature:function(e,t){if(this._map){var n=this._map.getBounds();for(var r in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[r].feature.id)&&("function"==typeof this._layers[r].getLatLng&&n.contains(this._layers[r].getLatLng())||"function"==typeof this._layers[r].getBounds&&n.intersects(this._layers[r].getBounds()))&&e.call(t,this._layers[r])}return this},eachFeature:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getFeature:function(e){return this._layers[e]},bringToBack:function(){this.eachFeature((function(e){e.bringToBack&&e.bringToBack()}))},bringToFront:function(){this.eachFeature((function(e){e.bringToFront&&e.bringToFront()}))},redraw:function(e){return e&&this._redraw(e),this},_redraw:function(e){var t=this._layers[e],n=t.feature;if(t&&t.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var r=this.options.pointToLayer(n,(0,a.latLng)(n.geometry.coordinates[1],n.geometry.coordinates[0])).options.icon;t.setIcon(r)}if(t&&t.setStyle&&this.options.pointToLayer){var i=this.options.pointToLayer(n,(0,a.latLng)(n.geometry.coordinates[1],n.geometry.coordinates[0])).options;this.setFeatureStyle(n.id,i)}t&&t.setStyle&&this.options.style&&this.resetFeatureStyle(n.id)},openPopup(e){return this._popup&&this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map),this},openTooltip(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this}});function Be(e){return new Ne(e)}var Me="3.0.12"},5657:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Cr}});var r={};n.r(r),n.d(r,{hasBrowserEnv:function(){return vn},hasStandardBrowserEnv:function(){return _n},hasStandardBrowserWebWorkerEnv:function(){return wn}});var i=n(6540),o=n(8154),s=n(2885),a=n(312),l=n.n(a),u=n(5395);function c(e){switch(e){case 0:return"No Zone";case 1:return"Residential";case 2:return"Non-Residential";case 3:return"Mixed Use (Residential and Non-Residential)";case 4:return"Other (Open space, etc.)";default:return new Error}}const d={"No Zone":0,Residential:1,"Non-Residential":2,"Mixed Use (Residential and Non-Residential)":3,"Other (Open space, etc.)":4};function p(e){switch(e){case 0:default:return"No";case 1:return"By special permit";case 2:return"By right"}}const f={No:0,"By special permit":1,"By right":2},m=(e,t,n)=>e.filter((e=>{const r=e.values[t];return void 0===r||!n||n.includes(r)})),h=(e,t,n)=>e.filter((e=>{const r=e.values[t];return void 0===r||!n||r.some((e=>n.includes(e)))})),g=(e,t,n)=>e.filter((e=>{const r=e.values[t];return void 0===r||!n||(e=>n&&"eq"===n.operator?+n.operand===e:n&&"gt"===n.operator?e>+n.operand:!n||"lt"!==n.operator||e<+n.operand)(r)}));var y=(0,i.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),v=function(e,t,n){var r=n.get(e);return r?r(t):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function _(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var b=(0,i.forwardRef)((function(e,t){var n=e.alt,r=e.color,o=e.size,s=e.weight,a=e.mirrored,l=e.children,u=e.renderPath,c=_(e,["alt","color","size","weight","mirrored","children","renderPath"]),d=(0,i.useContext)(y),p=d.color,f=void 0===p?"currentColor":p,m=d.size,h=d.weight,g=void 0===h?"regular":h,v=d.mirrored,b=void 0!==v&&v,w=_(d,["color","size","weight","mirrored"]);return i.createElement("svg",Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:null!=o?o:m,height:null!=o?o:m,fill:null!=r?r:f,viewBox:"0 0 256 256",transform:a||b?"scale(-1, 1)":void 0},w,c),!!n&&i.createElement("title",null,n),l,i.createElement("rect",{width:"256",height:"256",fill:"none"}),u(null!=s?s:g,null!=r?r:f))}));b.displayName="IconBase";var w=b,E=new Map;E.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),E.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"116",cy:"116",r:"84",opacity:"0.2"}),i.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),E.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M176,116a60,60,0,1,1-60-60A60,60,0,0,1,176,116Zm53.6,113.7A8,8,0,0,1,224,232a8.3,8.3,0,0,1-5.7-2.3l-43.2-43.3a92.2,92.2,0,1,1,11.3-11.3l43.2,43.2A8,8,0,0,1,229.6,229.7ZM116,192a76,76,0,1,0-76-76A76.1,76.1,0,0,0,116,192Z"}))})),E.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),E.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),E.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var x=function(e,t){return v(e,t,E)},S=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:x}))}));S.displayName="MagnifyingGlass";var k=S,R=new Map;R.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M44,143.3V52a8,8,0,0,1,8-8H204a8,8,0,0,1,8,8V204a8,8,0,0,1-8,8H135.6",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"128 152 64 216 32 184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),R.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"44 44 44 196 60 212 212 212 212 44 44 44",opacity:"0.2"}),i.createElement("path",{d:"M44,143.3V52a8,8,0,0,1,8-8H204a8,8,0,0,1,8,8V204a8,8,0,0,1-8,8H135.6",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"128 152 64 216 32 184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),R.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M204,36H52A16,16,0,0,0,36,52v91.3a8,8,0,0,0,16,0V52H204V204H135.6a8,8,0,0,0,0,16H204a16,16,0,0,0,16-16V52A16,16,0,0,0,204,36Z"}),i.createElement("path",{d:"M133.7,146.3a8.1,8.1,0,0,0-11.4,0L64,204.7,37.7,178.3a8.1,8.1,0,0,0-11.4,11.4l32,32a8.2,8.2,0,0,0,11.4,0l64-64A8.1,8.1,0,0,0,133.7,146.3Z"}))})),R.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M44,143.3V52a8,8,0,0,1,8-8H204a8,8,0,0,1,8,8V204a8,8,0,0,1-8,8H135.6",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"128 152 64 216 32 184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),R.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M44,143.3V52a8,8,0,0,1,8-8H204a8,8,0,0,1,8,8V204a8,8,0,0,1-8,8H135.6",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"128 152 64 216 32 184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),R.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M44,143.3V52a8,8,0,0,1,8-8H204a8,8,0,0,1,8,8V204a8,8,0,0,1-8,8H135.6",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"128 152 64 216 32 184",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var C=function(e,t){return v(e,t,R)},L=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:C}))}));L.displayName="CheckSquareOffset";var A=L,P=n(4506);var F=e=>{let{type:t}=e;return i.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgogIDxnIGlkPSJhY3RpdmUtZmlsdGVyIiBkYXRhLW5hbWU9IkFjdGl2ZSBmaWx0ZXIgaW5kaWNhdG9yIj4KICAgIDxjaXJjbGUgY3g9IjQiIGN5PSI0IiByPSI0IiBmaWxsPSIjMDA2MTNGIiAvPgogIDwvZz4KPC9zdmc+Cg==",alt:"Decorative indication of active filter",className:"filters__active-icon filters__active-icon--"+t})};const O=(e,t)=>{if(void 0===t)return[e];if(!t.includes(e))return t.concat([e]);if(t.includes(e)&&t.length>1){const n=t.indexOf(e);return t.slice(0,n).concat(t.slice(n+1))}},T=e=>{let{filterValue:t,index:n,option:r,setFilter:o}=e;const s=t&&t.includes(r);return i.createElement("li",{tabIndex:"0","data-value":r,className:"filters__option",key:"option-"+n,role:"button",onKeyDown:e=>{"Enter"===e.key&&o(O(r,t))},onClick:()=>o(O(r,t))},i.createElement("span",{className:"filters__value"},s?i.createElement(F,{type:"option"}):"",r),i.createElement("span",{className:s?"filters__button filters__button--active":"filters__button"},"+"))};T.defaultProps={filterValue:void 0};var I=T;var N=function(e){let{column:{filterValue:t,setFilter:n,preFilteredRows:r,id:o,searchText:s}}=e;const{0:a,1:l}=(0,i.useState)(""),u=(0,i.useMemo)((()=>{const e=new Set;return r.forEach((t=>{Array.isArray(t.values[o])?t.values[o].forEach((t=>{""!==t.trim()&&e.add(t.trim())})):e.add(t.values[o])})),(0,P.A)(e.values())}),[o,r]);return i.createElement(i.Fragment,null,i.createElement("input",{className:"filters__search",type:"text",placeholder:s,onChange:e=>l(e.target.value.toLowerCase())}),i.createElement("ul",{className:"filters__list"},u.filter((e=>e.toLowerCase().includes(a))).sort().map(((e,r)=>i.createElement(I,{key:"option-"+r,filterValue:t,index:r,option:e,setFilter:n})))))};var B=e=>{let{column:{filterValue:t,setFilter:n,emptyFilterText:r}}=e;return i.createElement("ul",{className:"filters__list"},((e,t,n)=>e&&0!==e.length?e.sort().map(((t,r)=>i.createElement(I,{key:"option-"+r,filterValue:e,index:r,option:t,setFilter:n}))):i.createElement("li",{className:"filters__text"},t))(t,r,n))};function M(e,t){return e===t?"filters__view filters__view--active":"filters__view"}var j=function(e){let{column:t}=e;const{0:n,1:r}=(0,i.useState)("search");return i.createElement(i.Fragment,null,i.createElement("div",{className:"filters__views"},i.createElement("button",{className:M(n,"search"),onClick:()=>r("search"),type:"button"},i.createElement(k,{size:"1.5rem",weight:"bold"})),i.createElement("button",{className:M(n,"selected"),onClick:()=>r("selected"),type:"button"},i.createElement(A,{size:"1.5rem",weight:"bold"})," |"," ",t.filterValue?t.filterValue.length:0)),"search"===n?i.createElement(N,{column:t}):i.createElement(B,{column:t}))};const z=(e,t)=>""===t||"0"===t?null:{operator:e,operand:t};var D=e=>{let{column:{filterValue:t,setFilter:n,Header:r}}=e;const{0:o,1:s}=(0,i.useState)(t?t.operator:"gt"),{0:a,1:l}=(0,i.useState)(t?t.operand:"");return i.createElement("li",{className:"filters__option filters__option--numeric"},i.createElement("span",null,z(o,a)?i.createElement(F,{type:"option"}):"",r),i.createElement("select",{onChange:e=>{s(e.target.value),n(z(e.target.value,a))},value:o},i.createElement("option",{value:"gt"},">"),i.createElement("option",{value:"eq"},"="),i.createElement("option",{value:"lt"},"<")),i.createElement("input",{type:"number",onChange:e=>{l(e.target.value),n(z(o,e.target.value))},step:"any",min:"0",value:t?t.operand:"",className:"filters__input"}))};var U=[{Header:"Municipality",accessor:"muni",Filter:j,filter:"multiple",searchText:"Type here to search filters by town/city",emptyFilterText:"No towns/cities selected",panel:"muni"},{Header:"Zone Name",accessor:"zoName"},{Header:"Zone Use Type",accessor:"zoUsety",panel:"function",Filter:j,filter:"multiple",searchText:"Type here to search filters by zone use type",emptyFilterText:"No zone use type selected"},{Header:"Zone Use Description",accessor:"zoUsede"},{Header:"Multifamily Housing (2+ Units)",accessor:"multifam",panel:"multifam",Filter:j,filter:"multiple",searchText:"Type here to search filters multifamily housing zoning",emptyFilterText:"No multifamily housing zoning options selected"},{Header:"Minimum Lot Size, Effective (sf)",accessor:"mnlsEff",Filter:D,filter:"numericRange"},{Header:"Percent Lot Coverage, Effective (%)",accessor:"plcEff",Filter:D,filter:"numericRange"},{Header:"Minimum Lot Area per Dwelling Unit (sf)",accessor:"lApDu",Filter:D,filter:"numericRange",panel:"lotDetails"},{Header:"Maximum Height, Effective (ft)",accessor:"mxhtEff"},{Header:"Maximum Dwelling Units, Effective (#)",accessor:"mxduEff"},{Header:"Maximum Dwelling Units per Acre, Effective (#)",accessor:"dUpAcEff",Filter:D,filter:"numericRange",panel:"lotDetails"},{Header:"Floor Area Ratio, Effective",accessor:"farEff",Filter:D,filter:"numericRange",panel:"lotDetails"},{Header:"Date Spatial Data Received",accessor:"spatialrec"},{Header:"ID",accessor:"id",show:!1}],G=n(4864),W=n(4794),H=new Map;H.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),H.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),H.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M139.3,128l66.4-66.3a8.1,8.1,0,0,0-11.4-11.4L128,116.7,61.7,50.3A8.1,8.1,0,0,0,50.3,61.7L116.7,128,50.3,194.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L128,139.3l66.3,66.4a8.2,8.2,0,0,0,11.4,0,8.1,8.1,0,0,0,0-11.4Z"}))})),H.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),H.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),H.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var V=function(e,t){return v(e,t,H)},Z=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:V}))}));Z.displayName="X";var q=Z;var J=e=>{let{closeModal:t}=e;return i.createElement("article",null,i.createElement("header",{className:"welcome-modal__header"},i.createElement("h2",{className:"welcome-modal__title"},"Welcome to the MAPC Zoning Atlas"),i.createElement("button",{type:"button",onClick:()=>t(!1),className:"welcome-modal__exit"},i.createElement(q,{size:"1rem"}))),i.createElement("p",null,"Zoning Atlas is the Metropolitan Area Planning Council's collaborative inventory and interpretation of municipal zoning data in Massachusetts. This dynamic online resource will improve over time as municipal staff and other contributors refine the data and provide updates."),i.createElement("div",{className:"welcome-modal__actions-wrapper"},i.createElement(W.Link,{to:"/about",className:"welcome-modal__link",onClick:()=>t(!1)},"Learn more"),i.createElement("button",{onClick:()=>t(!1),className:"button welcome-modal__button"},"Continue to the Atlas")))};var K=e=>{let{view:t,setView:n}=e;return i.createElement("aside",{className:"data-view__wrapper"},i.createElement("span",{className:"data-options__title data-view__title"},"Data View"),i.createElement("div",{className:"data-view__toggle"},i.createElement("label",{className:"data-view__switch","data-children-count":"1"},i.createElement("input",{type:"checkbox",className:"data-view__input",onClick:()=>n("spatial"===t?"tabular":"spatial")}),i.createElement("span",{className:"data-view__circle"}),i.createElement("div",{className:"data-view__options-wrapper"},i.createElement("span",{className:"spatial"===t?"data-view__option data-view__option--active":"data-view__option"},"Map"),i.createElement("span",{className:"tabular"===t?"data-view__option data-view__option--active":"data-view__option"},"Table")))))};var X=e=>{let{view:t,setView:n}=e;return i.createElement("aside",{className:"export-menu__wrapper"},i.createElement("span",{className:"data-options__title export-menu__title"},"Export"),i.createElement("div",{className:"export-menu__options-wrapper"},i.createElement("a",{href:"https://mapc365.sharepoint.com/:x:/s/DataServicesSP/Efonrnmw_kdMhmG3Dw2BkTcBIpe2sC_2ADWTWfUjOs4JhQ?e=K65BCE",className:"button button--link"},".csv"),i.createElement("a",{href:"https://mapc365.sharepoint.com/:f:/s/DataServicesSP/ErKkXSLH_iBOlDhJrTXldrYBIIZ4ZXe4Bkw7OyVapVpX3Q?e=iRkWVB",className:"button button--link"},".shp")))};var Q=e=>{let{view:t,setView:n}=e;return i.createElement("div",{className:"data-options__wrapper"},i.createElement(K,{view:t,setView:n}),i.createElement(X,null))};const Y=(e,t)=>e===t,$=e=>e.filter((e=>e.filterValue)).length>0;var ee=e=>{let{activeCategory:t,category:n,columns:r,text:o,dispatch:s}=e;return i.createElement("li",{className:Y(t,n)?"filters-panel__item filters-panel__item--active":"filters-panel__item"},r.filter((e=>e.filterValue)).length>0?i.createElement(F,{type:"category"}):"",i.createElement("div",{id:n,className:$(r)?"filters-panel__category filters-panel__category--filtered":"filters-panel__category",onClick:()=>s({category:n}),onKeyDown:e=>{"Enter"===e.key&&s({category:n})},role:"button",tabIndex:"0"},o))};var te=e=>{let{columns:t}=e;return i.createElement("ul",{className:"filters__list"},i.createElement(D,{column:t[0]}),i.createElement(D,{column:t[1]}),i.createElement(D,{column:t[2]}))};var ne=e=>{let{headerGroups:t}=e;const{0:n,1:r}=(0,i.useReducer)(((e,t)=>({...e,activeCategory:t.category})),{activeCategory:"muni"});return i.createElement("aside",{className:"filters-panel"},i.createElement("div",{className:"filters-panel__header-wrapper"},i.createElement("h2",{className:"filters-panel__header"},"Filters")),i.createElement("nav",{className:"filters-panel__body"},i.createElement("ul",{className:"filters-panel__categories"},i.createElement(ee,{activeCategory:n.activeCategory,category:"muni",columns:[t[0].headers[0]],dispatch:r,panel:i.createElement(j,{column:t[0].headers[0]}),text:"Municipality"}),i.createElement(ee,{activeCategory:n.activeCategory,category:"function",columns:[t[0].headers[2]],dispatch:r,text:"Zone Use Type"}),i.createElement(ee,{activeCategory:n.activeCategory,category:"multifam",columns:[t[0].headers[4]],dispatch:r,text:"Multifamily Housing (2+ Units)"}),i.createElement(ee,{activeCategory:n.activeCategory,category:"lotDetails",columns:t[0].headers.filter((e=>"lotDetails"===e.panel)),dispatch:r,text:"Lot Details"})),i.createElement("div",{className:"filters"},((e,t)=>"muni"===e?i.createElement(j,{column:t[0].headers[0]}):"function"===e?i.createElement(j,{column:t[0].headers[2]}):"multifam"===e?i.createElement(j,{column:t[0].headers[4]}):i.createElement(te,{columns:t[0].headers.filter((e=>"lotDetails"===e.panel))}))(n.activeCategory,t))))};var re=e=>{let{column:t}=e;return i.createElement("th",Object.assign({},t.getHeaderProps(t.getSortByToggleProps()),{className:"table__header",onKeyDown:e=>{"Enter"===e.key&&t.toggleSortBy()},tabIndex:"0"}),i.createElement("span",null,t.render("Header")))};var ie=e=>{let{getTableProps:t,getTableBodyProps:n,headerGroups:r,page:o,prepareRow:s,setFormIsOpen:a,setZone:l}=e;return i.createElement("div",{className:"table__wrapper"},i.createElement("table",Object.assign({},t(),{className:"table"}),i.createElement("thead",null,r.map((e=>i.createElement("tr",e.getHeaderGroupProps(),i.createElement("th",{className:"table__header table__header--edit"},"Edit",i.createElement("i",{className:"fas fa-external-link-alt icon"})),e.headers.map((e=>i.createElement(re,{column:e,key:e.id}))))))),i.createElement("tbody",n(),o.map((e=>(s(e),i.createElement("tr",Object.assign({},e.getRowProps(),{className:"row",key:"row-"+e.id}),i.createElement("td",{className:"cell"},i.createElement("div",{className:"icon__wrapper",role:"button",onClick:()=>{a(!0),l(e.values)},onKeyDown:t=>{"Enter"===t.key&&(a(!0),l(e.values))},tabIndex:"0"},i.createElement("i",{className:"fas fa-edit icon icon__edit"}))),e.cells.map((e=>i.createElement("td",Object.assign({},e.getCellProps(),{className:"cell"}),e.render("Cell")))))))))))},oe=new Map;oe.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"200 208 120 128 200 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"120 208 40 128 120 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),oe.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"200 208 120 128 200 48 200 208",opacity:"0.2"}),i.createElement("polygon",{points:"200 208 120 128 200 48 200 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"120 208 40 128 120 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),oe.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M203.1,40.6a8.4,8.4,0,0,0-8.8,1.7L128,108.7V48a8,8,0,0,0-4.9-7.4,8.4,8.4,0,0,0-8.8,1.7l-80,80a8.1,8.1,0,0,0,0,11.4l80,80A8.3,8.3,0,0,0,120,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,128,208V147.3l66.3,66.4A8.3,8.3,0,0,0,200,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,208,208V48A8,8,0,0,0,203.1,40.6Z"}))})),oe.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"200 208 120 128 200 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"120 208 40 128 120 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),oe.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"200 208 120 128 200 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"120 208 40 128 120 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),oe.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"200 208 120 128 200 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"120 208 40 128 120 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var se=function(e,t){return v(e,t,oe)},ae=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:se}))}));ae.displayName="CaretDoubleLeft";var le=ae,ue=new Map;ue.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),ue.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"160 208 80 128 160 48 160 208",opacity:"0.2"}),i.createElement("polygon",{points:"160 208 80 128 160 48 160 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),ue.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M163.1,40.6a8.4,8.4,0,0,0-8.8,1.7l-80,80a8.1,8.1,0,0,0,0,11.4l80,80A8.3,8.3,0,0,0,160,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,168,208V48A8,8,0,0,0,163.1,40.6Z"}))})),ue.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),ue.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),ue.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var ce=function(e,t){return v(e,t,ue)},de=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:ce}))}));de.displayName="CaretLeft";var pe=de,fe=new Map;fe.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),fe.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"96 48 176 128 96 208 96 48",opacity:"0.2"}),i.createElement("polygon",{points:"96 48 176 128 96 208 96 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),fe.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M181.7,122.3l-80-80a8.4,8.4,0,0,0-8.8-1.7A8,8,0,0,0,88,48V208a8,8,0,0,0,4.9,7.4,8.5,8.5,0,0,0,3.1.6,8.3,8.3,0,0,0,5.7-2.3l80-80A8.1,8.1,0,0,0,181.7,122.3Z"}))})),fe.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),fe.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),fe.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"96 48 176 128 96 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var me=function(e,t){return v(e,t,fe)},he=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:me}))}));he.displayName="CaretRight";var ge=he,ye=new Map;ye.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"56 48 136 128 56 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("polyline",{points:"136 48 216 128 136 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),ye.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"56 48 136 128 56 208 56 48",opacity:"0.2"}),i.createElement("polygon",{points:"56 48 136 128 56 208 56 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"136 48 216 128 136 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),ye.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M221.7,122.3l-80-80a8.4,8.4,0,0,0-8.8-1.7A8,8,0,0,0,128,48v60.7L61.7,42.3a8.4,8.4,0,0,0-8.8-1.7A8,8,0,0,0,48,48V208a8,8,0,0,0,4.9,7.4,8.5,8.5,0,0,0,3.1.6,8.3,8.3,0,0,0,5.7-2.3L128,147.3V208a8,8,0,0,0,4.9,7.4,8.5,8.5,0,0,0,3.1.6,8.3,8.3,0,0,0,5.7-2.3l80-80A8.1,8.1,0,0,0,221.7,122.3Z"}))})),ye.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"56 48 136 128 56 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("polyline",{points:"136 48 216 128 136 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),ye.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"56 48 136 128 56 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("polyline",{points:"136 48 216 128 136 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),ye.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"56 48 136 128 56 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("polyline",{points:"136 48 216 128 136 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var ve=function(e,t){return v(e,t,ye)},_e=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:ve}))}));_e.displayName="CaretDoubleRight";var be=_e;var we=e=>{let{gotoPage:t,previousPage:n,canPreviousPage:r,nextPage:o,canNextPage:s,pageIndex:a,pageCount:l}=e;return i.createElement("div",{className:"pagination__wrapper"},i.createElement("button",{onClick:()=>t(0),disabled:!r,className:"button button--pagination"},i.createElement(le,{size:"1rem",weight:"bold"}))," ",i.createElement("button",{onClick:()=>n(),disabled:!r,className:"button button--pagination"},i.createElement(pe,{size:"1rem",weight:"bold"}))," ",i.createElement("span",{className:"pagination__text"},"Page"," ",a+1," ","of"," ",l),i.createElement("button",{onClick:()=>o(),disabled:!s,className:"button button--pagination"},i.createElement(ge,{size:"1rem",weight:"bold"})),i.createElement("button",{onClick:()=>t(l-1),disabled:!s,className:"button button--pagination"},i.createElement(be,{size:"1rem",weight:"bold"}))," ")};var Ee=e=>{let{reactTable:t,setFormIsOpen:n,setZone:r}=e;return i.createElement("div",{className:"tabular-data"},i.createElement(ie,{getTableProps:t.getTableProps,getTableBodyProps:t.getTableBodyProps,headerGroups:t.headerGroups,page:t.page,prepareRow:t.prepareRow,setFormIsOpen:n,setZone:r}),i.createElement(we,{gotoPage:t.gotoPage,previousPage:t.previousPage,canPreviousPage:t.canPreviousPage,nextPage:t.nextPage,canNextPage:t.canNextPage,pageIndex:t.state.pageIndex,pageCount:t.pageCount}))},xe=n(3148),Se=n(3481);function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function Re({bounds:e,boundsOptions:t,center:n,children:r,className:o,id:s,placeholder:a,style:l,whenReady:u,zoom:c,...d},p){const[f]=(0,i.useState)({className:o,id:s,style:l}),[m,h]=(0,i.useState)(null);(0,i.useImperativeHandle)(p,(()=>m?.map??null),[m]);const g=(0,i.useCallback)((r=>{if(null!==r&&null===m){const i=new Se.Map(r,d);null!=n&&null!=c?i.setView(n,c):null!=e&&i.fitBounds(e,t),null!=u&&i.whenReady(u),h((0,xe.fB)(i))}}),[]);(0,i.useEffect)((()=>()=>{m?.map.remove()}),[m]);const y=m?i.createElement(xe.hL,{value:m},r):a??null;return i.createElement("div",ke({},f,{ref:g}),y)}const Ce=(0,i.forwardRef)(Re);var Le=n(6667),Ae=n(5898),Pe=n(4144);const Fe=(0,Le.K)((function({children:e,...t},n){const r=new Se.Control.Layers(void 0,void 0,t);return(0,Le.Q)(r,(0,xe.W4)(n,{layersControl:r}))}),(function(e,t,n){t.collapsed!==n.collapsed&&(!0===t.collapsed?e.collapse():e.expand())})),Oe=(0,Ae.T)(Fe),Te=(0,Pe.B7)(Oe);function Ie(e){return function(t){const n=(0,xe.U$)(),r=(0,i.useRef)(t),[o,s]=(0,i.useState)(null),{layersControl:a,map:l}=n,u=(0,i.useCallback)((t=>{null!=a&&(r.current.checked&&l.addLayer(t),e(a,t,r.current.name),s(t))}),[a,l]),c=(0,i.useCallback)((e=>{a?.removeLayer(e),s(null)}),[a]),d=(0,i.useMemo)((()=>(0,xe.W4)(n,{layerContainer:{addLayer:u,removeLayer:c}})),[n,u,c]);return(0,i.useEffect)((()=>{null!==o&&r.current!==t&&(!0!==t.checked||null!=r.current.checked&&!1!==r.current.checked?!0!==r.current.checked||null!=t.checked&&!1!==t.checked||l.removeLayer(o):l.addLayer(o),r.current=t)})),t.children?i.createElement(xe.hL,{value:d},t.children):null}}Te.BaseLayer=Ie((function(e,t,n){e.addBaseLayer(t,n)})),Te.Overlay=Ie((function(e,t,n){e.addOverlay(t,n)}));var Ne=n(7458),Be=n(7685),Me=n(8139);const je=(0,Ne.X3)((function({url:e,...t},n){const r=new Se.TileLayer(e,(0,Be.P)(t,n));return(0,Le.Q)(r,n)}),(function(e,t,n){(0,Me.X)(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)})),ze=(0,Ne.T7)((function(e){return new Se.Control.Zoom(e)}));var De=n(666),Ue=n(3769);function Ge(){return(0,xe.U$)().map}const We={eq:"=",gt:">",lt:"<"},He=["#f6c61e","#f4a617","#F8970D","#e96b14","#fc3a1c","#eb003f","#dd0058","#f40080","#b700a6","#6800b6","#0000E3"],Ve="#D8D8D8";var Ze={zoUsety:[{color:"#EDE47B",value:"Residential",id:1},{color:"#E2A620",value:"Mixed residential/Non-residential",id:3},{color:"#EE3125",value:"Non-residential",id:2},{color:"#98D09A",value:"Open Space & Recreation",id:4},{color:"#D8D8D8",value:"No Zone",id:0}],multiFam:[{color:"#f0dd53",value:"By right",id:2},{color:"#ffffaf",value:"By special permit",id:1},{color:"#ccb68c",value:"No",id:0}],effMxht:[{color:He[0],value:"10–30",min:10,max:30},{color:He[1],value:"30–35",min:30,max:35},{color:He[2],value:"35–40",min:35,max:40},{color:He[3],value:"40–45",min:40,max:45},{color:He[4],value:"45–50",min:45,max:50},{color:He[5],value:"50–60",min:50,max:60},{color:He[6],value:"60–70",min:60,max:70},{color:He[7],value:"70–100",min:70,max:100},{color:He[8],value:"100–200",min:100,max:200},{color:He[9],value:"200+",min:35,max:500},{color:Ve,value:"Data n/a"}],effMxdu:[{color:He[0],value:"0.5–2",min:.5,max:2},{color:He[1],value:"2–3",min:2,max:3},{color:He[2],value:"3–5",min:3,max:5},{color:He[3],value:"5–10",min:5,max:10},{color:He[4],value:"10–15",min:10,max:15},{color:He[5],value:"15–25",min:15,max:25},{color:He[6],value:"25–50",min:25,max:50},{color:He[7],value:"50–100",min:50,max:100},{color:He[8],value:"100–150",min:100,max:150},{color:He[9],value:"150–250",min:150,max:250},{color:He[10],value:"250+",min:250,max:5e3},{color:Ve,value:"Data n/a"}],effDensity:[{color:He[0],value:"1–4",min:1,max:5},{color:He[1],value:"5–9",min:5,max:10},{color:He[2],value:"10–14",min:10,max:15},{color:He[3],value:"15–19",min:15,max:20},{color:He[4],value:"20–24",min:20,max:25},{color:He[5],value:"25–49",min:25,max:50},{color:He[6],value:"50–74",min:50,max:75},{color:He[7],value:"75–99",min:75,max:100},{color:He[8],value:"100–199",min:100,max:200},{color:He[9],value:"200–299",min:200,max:300},{color:He[10],value:"300–399",min:300,max:400},{color:Ve,value:"Data n/a"}],effFar:[{color:He[0],value:"0–0.5",min:0,max:.5},{color:He[1],value:"0.5–1",min:.5,max:1},{color:He[2],value:"1–2",min:1,max:2},{color:He[3],value:"2–3",min:2,max:3},{color:He[4],value:"3–4",min:3,max:4},{color:He[5],value:"4–5",min:4,max:5},{color:He[6],value:"5–10",min:5,max:10},{color:He[7],value:"10–15",min:10,max:15},{color:He[8],value:"15–17.5",min:15,max:17.5},{color:He[9],value:"17.5+",min:17.5,max:21},{color:Ve,value:"Data n/a"}]};function qe(e){switch(e){case 9:return.45;case 10:return.25;default:return 0}}function Je(e){const t=[];if(e[0].filterValue&&t.push(e[0].filterValue.map((e=>"muni = '"+e+"'")).join(" OR ")),e[2].filterValue&&t.push(e[2].filterValue.map((e=>"zo_usety = "+d[e])).join(" OR ")),e[4].filterValue&&t.push(e[4].filterValue.map((e=>"mulfam2 = "+f[e])).join(" OR ")),e[7].filterValue){const n=e[7].filterValue;t.push("LApDU "+We[n.operator]+" "+ +n.operand)}if(e[10].filterValue){const n=e[10].filterValue;t.push("DUpAC_EFF "+We[n.operator]+" "+ +n.operand)}if(e[11].filterValue){const n=e[11].filterValue;t.push("FAR_EFF "+We[n.operator]+" "+ +n.operand)}return 0===t.length?"":1===t.length?t[0]:t.map((e=>"("+e+")")).join(" AND ")}var Ke=e=>{let{reactTable:t,setSelected:n,setLatLng:r,layerStyle:o,displayOverlays:s}=e;const a=Ge(),{0:l,1:u}=(0,i.useState)(a.getZoom());return function(e,t){const n=Ge();(0,i.useEffect)((function(){return n.on(e,t),function(){n.off(e,t)}}),[n,e,t])}("zoomend",(()=>{u(a.getZoom())})),i.createElement(i.Fragment,null,i.createElement(Ue.GF,{url:"https://geo.mapc.org/server/rest/services/gisdata/Zoning_Atlas_v01/MapServer/2",pane:"tilePane",simplifyFactor:qe(l),style:e=>{let t;return"zoUsety"===o&&(t=e.properties.zo_usety?Ze.zoUsety.find((t=>t.id===e.properties.zo_usety)).color:Ze.zoUsety[4].color),"multiFam"===o&&(t=e.properties.mulfam2?Ze.multiFam.find((t=>t.id===e.properties.mulfam2)).color:Ze.multiFam[2].color),"effMxht"===o&&(t=Ze.effMxht.find((t=>e.properties.mxht_eff>=t.min&&e.properties.mxht_eff<t.max))?Ze.effMxht.find((t=>e.properties.mxht_eff>=t.min&&e.properties.mxht_eff<t.max)).color:Ve),"effMxdu"===o&&(t=e.properties.mxdu_eff?Ze.effMxdu.find((t=>e.properties.mxdu_eff>=t.min&&e.properties.mxdu_eff<t.max)).color:Ve),"effDensity"===o&&(t=Ze.effDensity.find((t=>e.properties.dupac_eff>=t.min&&e.properties.dupac_eff<t.max))?Ze.effDensity.find((t=>e.properties.dupac_eff>=t.min&&e.properties.dupac_eff<t.max)).color:Ve),"effFar"===o&&(t=e.properties.far_eff?Ze.effFar.find((t=>e.properties.far_eff>=t.min&&e.properties.far_eff<t.max)).color:Ve),{color:t,weight:.5,fillOpacity:.8,opacity:1}},where:Je(t.columns),eventHandlers:{click:e=>{r(e.latlng),n(e.layer.feature.properties)}}}),i.createElement(je,{pane:"overlayPane",url:"https://api.mapbox.com/styles/v1/ihill/ckirurvdm0c9v19qmri0meat6/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",opacity:s?1:0}),i.createElement(je,{pane:"overlayPane",url:"https://api.mapbox.com/styles/v1/ihill/cki9ablq87wb01apa878hhbj8/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg"}))};const Xe=(0,Ne.wk)((function(e,t){const n=new Se.Popup(e,t.overlayContainer);return(0,Le.Q)(n,t)}),(function(e,t,{position:n},r){(0,i.useEffect)((function(){const{instance:i}=e;function o(e){e.popup===i&&(i.update(),r(!0))}function s(e){e.popup===i&&r(!1)}return t.map.on({popupopen:o,popupclose:s}),null==t.overlayContainer?(null!=n&&i.setLatLng(n),i.openOn(t.map)):t.overlayContainer.bindPopup(i),function(){t.map.off({popupopen:o,popupclose:s}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(i)}}),[e,t,r,n])}));function Qe(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var Ye,$e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function et(e){if(!(t=$e.exec(e)))throw new Error("invalid format: "+e);var t;return new tt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function tt(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function nt(e,t){var n=Qe(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}et.prototype=tt.prototype,tt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var rt={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nt(100*e,t),r:nt,s:function(e,t){var n=Qe(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ye=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qe(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function it(e){return e}var ot,st,at=Array.prototype.map,lt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ut(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?it:(t=at.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?it:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(at.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"−":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=et(e)).fill,n=e.align,d=e.sign,p=e.symbol,f=e.zero,m=e.width,h=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(h=!0,v="g"):rt[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var _="$"===p?i:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===p?o:/[%p]/.test(v)?l:"",w=rt[v],E=/[defgprs%]/.test(v);function x(e){var i,o,l,p=_,x=b;if("c"===v)x=w(e)+x,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0==+e&&"+"!==d&&(S=!1),p=(S?"("===d?d:u:"-"===d||"("===d?"":d)+p,x=("s"===v?lt[8+Ye/3]:"")+x+(S&&"("===d?")":""),E)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){x=(46===l?s+e.slice(i+1):e.slice(i))+x,e=e.slice(0,i);break}}h&&!f&&(e=r(e,1/0));var k=p.length+e.length+x.length,R=k<m?new Array(m-k+1).join(t):"";switch(h&&f&&(e=r(R+e,R.length?m-x.length:1/0),R=""),n){case"<":e=p+e+x+R;break;case"=":e=p+R+e+x;break;case"^":e=R.slice(0,k=R.length>>1)+p+e+x+R.slice(k);break;default:e=R+p+e+x}return a(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}return{format:d,formatPrefix:function(e,t){var n,r=d(((e=et(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=Qe(Math.abs(n)))?n[1]:NaN)/3)))),o=Math.pow(10,-i),s=lt[8+i/3];return function(e){return r(o*e)+s}}}}function ct(e){return null!==e?e:"Data not available"}function dt(e){return null!==e?st(",")(e)+" sf":"Data not available"}ot=ut({thousands:",",grouping:[3],currency:["$",""]}),st=ot.format,ot.formatPrefix;var pt=e=>{let{latLng:t,setFormIsOpen:n,selectedAttr:{muni:r,zo_name:o,zo_usety:s,zo_usede:a,mulfam2:l,mnls_eff:u,plc_eff:d,lapdu:f,mxht_eff:m,mxdu_eff:h,dupac_eff:g,far_eff:y,far_esval:v,spatitalrec:_,OBJECTID:b},setZone:w}=e;return i.createElement(Xe,{position:t},i.createElement("h3",{className:"popup__title"},i.createElement("span",{className:"popup__title popup__title--muni"},r),o?i.createElement("span",{className:"popup__title popup__title--zoname"},o):""),i.createElement("hr",null),i.createElement("ul",{className:"popup__list"},i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Zone Use:")," ",i.createElement("span",{className:"popup__datum"},c(s),a&&" "!==a?" ("+a+")":"")),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Multifamily Housing (2+ Units):")," ",i.createElement("span",{className:"popup__datum"},ct(p(l)))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Effective Minimum Lot Size:")," ",i.createElement("span",{className:"popup__datum"},dt(u))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Effective Percent Lot Coverage:")," ",i.createElement("span",{className:"popup__datum"},ct(100*d))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Minimum Lot Area per Dwelling Unit:")," ",i.createElement("span",{className:"popup__datum"},dt(f))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Effective Maximum Height:")," ",i.createElement("span",{className:"popup__datum"},dt(m))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Effective Maximum Dwelling Units:")," ",i.createElement("span",{className:"popup__datum"},ct(h))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Effective Maximum Dwelling Units per Acre:")," ",i.createElement("span",{className:"popup__datum"},ct(g))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Effective Floor Area Ratio:")," ",i.createElement("span",{className:"popup__datum"},ct(y))),i.createElement("li",{className:"popup__item"},i.createElement("span",{className:"popup__category"},"Spatial data received ")," ",i.createElement("span",{className:"popup__datum"},_))),i.createElement("button",{type:"button",className:"popup__edit",onClick:()=>{w({id:b,muni:r,zoName:o,zoUsety:c(s),zoUsede:a,multifam:p(l),mnlsEff:u,plcEff:d,lapdu:f,mxhtEff:m,mxduEff:h,dUpAcEff:g,farEff:y}),n(!0)}},"Submit an edit ",i.createElement("i",{className:"fas fa-external-link-alt icon"})))};var ft=()=>i.createElement("fieldset",{className:"legend__fieldset"},i.createElement("div",{className:"toggle__wrapper"},i.createElement("label",{className:"toggle__switch"},i.createElement("input",{type:"checkbox",className:"toggle__input toggle__input--point",autoComplete:"off",name:"overlay"}),i.createElement("span",{className:"toggle__circle"})),i.createElement("legend",{className:"legend__subtitle"},"Overlay Districts")),i.createElement("ul",{className:"legend__list legend__list--one-col"},i.createElement("li",{className:"legend__list-row"},i.createElement("svg",{width:"10",height:"10"},i.createElement("circle",{cx:"5",cy:"5",r:"5",fill:"#011760"})),i.createElement("span",{className:"legend__entry"},"Overlays with Increased Density")),i.createElement("li",{className:"legend__list-row"},i.createElement("svg",{width:"10",height:"10"},i.createElement("circle",{cx:"5",cy:"5",r:"5",fill:"#95c0f3"})),i.createElement("span",{className:"legend__entry"},"Overlays with Decreased Density")),i.createElement("li",{className:"legend__list-row"},i.createElement("svg",{width:"10",height:"10"},i.createElement("circle",{cx:"5",cy:"5",r:"5",fill:"#ffffff",stroke:"#000000"})),i.createElement("span",{className:"legend__entry"},"Overlays with No Impact on Density"))));const mt={zoUsety:"Zone Use Type",multiFam:"Multifamily Housing (2+ Units)",effMxht:"Maximum Height",effMxdu:"Maximum Dwelling Units",effDensity:"Effective Dwelling Units per Acre",effFar:"Effective FAR"};var ht=e=>{let{layerStyle:t,setLayerStyle:n,displayOverlays:r,setDisplayOverlays:o}=e;return i.createElement(i.Fragment,null,i.createElement("form",{className:"legend__form",onChange:e=>{"legend"===e.target.name&&n(e.target.id),"overlay"===e.target.name&&o(!r)}},i.createElement("fieldset",{className:"legend__fieldset"},i.createElement("legend",{className:"legend__subtitle"},"Map Layers"),i.createElement("label",{htmlFor:"zoUsety"},i.createElement("input",{type:"radio",id:"zoUsety",name:"legend",className:"legend__input",defaultChecked:"zoUsety"===t}),i.createElement("span",{className:"legend__entry"},"Zone Use Type")),i.createElement("label",{htmlFor:"multiFam"},i.createElement("input",{type:"radio",id:"multiFam",name:"legend",className:"legend__input",defaultChecked:"multiFam"===t}),i.createElement("span",{className:"legend__entry"},"Multifamily Housing (2+ Units)")),i.createElement("label",{htmlFor:"effMxht"},i.createElement("input",{type:"radio",id:"effMxht",name:"legend",className:"legend__input",defaultChecked:"effMxht"===t}),i.createElement("span",{className:"legend__entry"},"Maximum Height")),i.createElement("label",{htmlFor:"effMxdu"},i.createElement("input",{type:"radio",id:"effMxdu",name:"legend",className:"legend__input",defaultChecked:"effMxdu"===t}),i.createElement("span",{className:"legend__entry"},"Maximum Dwelling Units")),i.createElement("label",{htmlFor:"effDensity"},i.createElement("input",{type:"radio",id:"effDensity",name:"legend",className:"legend__input",defaultChecked:"effDensity"===t}),i.createElement("span",{className:"legend__entry"},"Effective Dwelling Units per Acre")),i.createElement("label",{htmlFor:"effFar"},i.createElement("input",{type:"radio",id:"effFar",name:"legend",className:"legend__input",defaultChecked:"effFar"===t}),i.createElement("span",{className:"legend__entry"},"Effective FAR"))),i.createElement("fieldset",{className:"legend__fieldset"},i.createElement("legend",{className:"legend__subtitle"},mt[t]),i.createElement("ul",{className:Ze[t].length>6?"legend__list legend__list--two-col":"legend__list legend__list--one-col"},Ze[t].map((e=>i.createElement("li",{className:"legend__list-row",key:e.value},i.createElement("svg",{width:"10",height:"10"},i.createElement("circle",{cx:"5",cy:"5",r:"5",fill:e.color})),i.createElement("span",{className:"legend__entry"},e.value)))))),i.createElement(ft,null),i.createElement("input",{type:"reset",className:"legend__reset-button",onClick:()=>{n("zoUsety"),o(!1)},value:"Reset map settings"})))};var gt=e=>{let{layerStyle:t,setLayerStyle:n,displayOverlays:r,setDisplayOverlays:o}=e;const{0:s,1:a}=(0,i.useState)(!1);return i.createElement("div",{className:s?"legend legend--active":"legend",onClick:()=>s?"":a(!0),onKeyDown:e=>{"Enter"===e.key&&a(!0)},tabIndex:0,role:"button"},i.createElement("div",{className:s?"legend__header legend__header--active":"legend__header"},i.createElement("h3",{className:s?"legend__title legend__title--active":"legend__title"},"Legend"),s?i.createElement("button",{type:"button",onClick:()=>a(!1),className:"edits__exit"},i.createElement(q,{size:"1rem"})):""),s?i.createElement(ht,{layerStyle:t,setLayerStyle:n,displayOverlays:r,setDisplayOverlays:o}):"")};var yt=e=>{let{reactTable:t,setFormIsOpen:n,setZone:r}=e;const{0:o,1:s}=(0,i.useState)(),{0:a,1:l}=(0,i.useState)(),{0:u,1:c}=(0,i.useState)("zoUsety"),{0:d,1:p}=(0,i.useState)(!1);return i.createElement("div",{className:"map__wrapper"},i.createElement(Ce,{center:[42.3317,-71.05],zoom:10,maxZoom:14,minZoom:9,zoomControl:!1},i.createElement(Te,{position:"topleft"},i.createElement(Te.BaseLayer,{name:"Mapbox Light",checked:!0},i.createElement(je,{url:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/{z}/{x}/{y}/?access_token=pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',tileSize:512,zoomOffset:-1})),i.createElement(Te.BaseLayer,{name:"Streets"},i.createElement(je,{url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',tileSize:512,zoomOffset:-1})),i.createElement(Te.BaseLayer,{name:"Satellite"},i.createElement(je,{url:"https://api.mapbox.com/styles/v1/mapbox/satellite-streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',tileSize:512,zoomOffset:-1}))),i.createElement(De.A,{useMapBounds:!1,position:"topleft"}),i.createElement(Ke,{reactTable:t,setSelected:s,setLatLng:l,layerStyle:u,displayOverlays:d}),o?i.createElement(pt,{selectedAttr:o,latLng:a,setFormIsOpen:n,setZone:r}):"",i.createElement(ze,{position:"bottomright"}),i.createElement(gt,{position:"topright",layerStyle:u,setLayerStyle:c,displayOverlays:d,setDisplayOverlays:p})),i.createElement("a",{href:"http://mapbox.com/about/maps",className:"map__watermark",target:"_blank"},"Mapbox"))};function vt(e,t){return function(){return e.apply(t,arguments)}}const{toString:_t}=Object.prototype,{getPrototypeOf:bt}=Object,wt=(Et=Object.create(null),e=>{const t=_t.call(e);return Et[t]||(Et[t]=t.slice(8,-1).toLowerCase())});var Et;const xt=e=>(e=e.toLowerCase(),t=>wt(t)===e),St=e=>t=>typeof t===e,{isArray:kt}=Array,Rt=St("undefined");const Ct=xt("ArrayBuffer");const Lt=St("string"),At=St("function"),Pt=St("number"),Ft=e=>null!==e&&"object"==typeof e,Ot=e=>{if("object"!==wt(e))return!1;const t=bt(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Tt=xt("Date"),It=xt("File"),Nt=xt("Blob"),Bt=xt("FileList"),Mt=xt("URLSearchParams");function jt(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),kt(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function zt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Ut=e=>!Rt(e)&&e!==Dt;const Gt=(Wt="undefined"!=typeof Uint8Array&&bt(Uint8Array),e=>Wt&&e instanceof Wt);var Wt;const Ht=xt("HTMLFormElement"),Vt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Zt=xt("RegExp"),qt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};jt(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Jt="abcdefghijklmnopqrstuvwxyz",Kt="0123456789",Xt={DIGIT:Kt,ALPHA:Jt,ALPHA_DIGIT:Jt+Jt.toUpperCase()+Kt};const Qt=xt("AsyncFunction");var Yt={isArray:kt,isArrayBuffer:Ct,isBuffer:function(e){return null!==e&&!Rt(e)&&null!==e.constructor&&!Rt(e.constructor)&&At(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||At(e.append)&&("formdata"===(t=wt(e))||"object"===t&&At(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ct(e.buffer),t},isString:Lt,isNumber:Pt,isBoolean:e=>!0===e||!1===e,isObject:Ft,isPlainObject:Ot,isUndefined:Rt,isDate:Tt,isFile:It,isBlob:Nt,isRegExp:Zt,isFunction:At,isStream:e=>Ft(e)&&At(e.pipe),isURLSearchParams:Mt,isTypedArray:Gt,isFileList:Bt,forEach:jt,merge:function e(){const{caseless:t}=Ut(this)&&this||{},n={},r=(r,i)=>{const o=t&&zt(n,i)||i;Ot(n[o])&&Ot(r)?n[o]=e(n[o],r):Ot(r)?n[o]=e({},r):kt(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&jt(arguments[i],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(jt(t,((t,r)=>{n&&At(t)?e[r]=vt(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&bt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:wt,kindOfTest:xt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(kt(e))return e;let t=e.length;if(!Pt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ht,hasOwnProperty:Vt,hasOwnProp:Vt,reduceDescriptors:qt,freezeMethods:e=>{qt(e,((t,n)=>{if(At(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];At(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return kt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:zt,global:Dt,isContextDefined:Ut,ALPHABET:Xt,generateString:(e=16,t=Xt.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&At(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ft(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=kt(e)?[]:{};return jt(e,((e,t)=>{const o=n(e,r+1);!Rt(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Qt,isThenable:e=>e&&(Ft(e)||At(e))&&At(e.then)&&At(e.catch)};function $t(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Yt.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Yt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const en=$t.prototype,tn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{tn[e]={value:e}})),Object.defineProperties($t,tn),Object.defineProperty(en,"isAxiosError",{value:!0}),$t.from=(e,t,n,r,i,o)=>{const s=Object.create(en);return Yt.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),$t.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var nn=$t;function rn(e){return Yt.isPlainObject(e)||Yt.isArray(e)}function on(e){return Yt.endsWith(e,"[]")?e.slice(0,-2):e}function sn(e,t,n){return e?e.concat(t).map((function(e,t){return e=on(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const an=Yt.toFlatObject(Yt,{},null,(function(e){return/^is[A-Z]/.test(e)}));var ln=function(e,t,n){if(!Yt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Yt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Yt.isUndefined(t[e])}))).metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Yt.isSpecCompliantForm(t);if(!Yt.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Yt.isDate(e))return e.toISOString();if(!a&&Yt.isBlob(e))throw new nn("Blob is not supported. Use a Buffer instead.");return Yt.isArrayBuffer(e)||Yt.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(Yt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Yt.isArray(e)&&function(e){return Yt.isArray(e)&&!e.some(rn)}(e)||(Yt.isFileList(e)||Yt.endsWith(n,"[]"))&&(a=Yt.toArray(e)))return n=on(n),a.forEach((function(e,r){!Yt.isUndefined(e)&&null!==e&&t.append(!0===s?sn([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!rn(e)||(t.append(sn(i,n,o),l(e)),!1)}const c=[],d=Object.assign(an,{defaultVisitor:u,convertValue:l,isVisitable:rn});if(!Yt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Yt.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Yt.forEach(n,(function(n,o){!0===(!(Yt.isUndefined(n)||null===n)&&i.call(t,n,Yt.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),c.pop()}}(e),t};function un(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cn(e,t){this._pairs=[],e&&ln(e,this,t)}const dn=cn.prototype;dn.append=function(e,t){this._pairs.push([e,t])},dn.toString=function(e){const t=e?function(t){return e.call(this,t,un)}:un;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var pn=cn;function fn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mn(e,t,n){if(!t)return e;const r=n&&n.encode||fn,i=n&&n.serialize;let o;if(o=i?i(t,n):Yt.isURLSearchParams(t)?t.toString():new pn(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}var hn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Yt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},gn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yn={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:pn,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const vn="undefined"!=typeof window&&"undefined"!=typeof document,_n=(bn="undefined"!=typeof navigator&&navigator.product,vn&&["ReactNative","NativeScript","NS"].indexOf(bn)<0);var bn;const wn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var En={...r,...yn};var xn=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&Yt.isArray(r)?r.length:o,a)return Yt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&Yt.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&Yt.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(Yt.isFormData(e)&&Yt.isFunction(e.entries)){const n={};return Yt.forEachEntry(e,((e,r)=>{t(function(e){return Yt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Sn={transitional:gn,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Yt.isObject(e);i&&Yt.isHTMLForm(e)&&(e=new FormData(e));if(Yt.isFormData(e))return r?JSON.stringify(xn(e)):e;if(Yt.isArrayBuffer(e)||Yt.isBuffer(e)||Yt.isStream(e)||Yt.isFile(e)||Yt.isBlob(e))return e;if(Yt.isArrayBufferView(e))return e.buffer;if(Yt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ln(e,new En.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return En.isNode&&Yt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Yt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ln(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Yt.isString(e))try{return(t||JSON.parse)(e),Yt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Sn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Yt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw nn.from(i,nn.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Yt.forEach(["delete","get","head","post","put","patch"],(e=>{Sn.headers[e]={}}));var kn=Sn;const Rn=Yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const Cn=Symbol("internals");function Ln(e){return e&&String(e).trim().toLowerCase()}function An(e){return!1===e||null==e?e:Yt.isArray(e)?e.map(An):String(e)}function Pn(e,t,n,r,i){return Yt.isFunction(r)?r.call(this,t,n):(i&&(t=n),Yt.isString(t)?Yt.isString(r)?-1!==t.indexOf(r):Yt.isRegExp(r)?r.test(t):void 0:void 0)}class Fn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Ln(t);if(!i)throw new Error("header name must be a non-empty string");const o=Yt.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=An(e))}const o=(e,t)=>Yt.forEach(e,((e,n)=>i(e,n,t)));return Yt.isPlainObject(e)||e instanceof this.constructor?o(e,t):Yt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Rn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=Ln(e)){const n=Yt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Yt.isFunction(t))return t.call(this,e,n);if(Yt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ln(e)){const n=Yt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Pn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Ln(e)){const i=Yt.findKey(n,e);!i||t&&!Pn(0,n[i],i,t)||(delete n[i],r=!0)}}return Yt.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Pn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Yt.forEach(this,((r,i)=>{const o=Yt.findKey(n,i);if(o)return t[o]=An(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=An(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Yt.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Yt.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Cn]=this[Cn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Ln(e);t[r]||(!function(e,t){const n=Yt.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Yt.isArray(e)?e.forEach(r):r(e),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Yt.reduceDescriptors(Fn.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),Yt.freezeMethods(Fn);var On=Fn;function Tn(e,t){const n=this||kn,r=t||n,i=On.from(r.headers);let o=r.data;return Yt.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function In(e){return!(!e||!e.__CANCEL__)}function Nn(e,t,n){nn.call(this,null==e?"canceled":e,nn.ERR_CANCELED,t,n),this.name="CanceledError"}Yt.inherits(Nn,nn,{__CANCEL__:!0});var Bn=Nn;var Mn=En.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Yt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Yt.isString(r)&&s.push("path="+r),Yt.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var zn=En.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Yt.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};var Dn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=r[s];i||(i=l),n[o]=a,r[o]=l;let c=s,d=0;for(;c!==o;)d+=n[c++],c%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}};function Un(e,t){let n=0;const r=Dn(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const Gn={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=On.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:l}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(Yt.isFormData(r))if(En.hasStandardBrowserEnv||En.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=jn(e.baseURL,e.url);function p(){if(!c)return;const r=On.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new nn("Request failed with status code "+n.status,[nn.ERR_BAD_REQUEST,nn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),mn(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(n(new nn("Request aborted",nn.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new nn("Network Error",nn.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||gn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new nn(t,r.clarifyTimeoutError?nn.ETIMEDOUT:nn.ECONNABORTED,e,c)),c=null},En.hasStandardBrowserEnv&&(l&&Yt.isFunction(l)&&(l=l(e)),l||!1!==l&&zn(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Mn.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in c&&Yt.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),Yt.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&"json"!==a&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",Un(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Un(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{c&&(n(!t||t.type?new Bn(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===En.protocols.indexOf(f)?n(new nn("Unsupported protocol "+f+":",nn.ERR_BAD_REQUEST,e)):c.send(r||null)}))}};Yt.forEach(Gn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Wn=e=>`- ${e}`,Hn=e=>Yt.isFunction(e)||null===e||!1===e;var Vn=e=>{e=Yt.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Hn(n)&&(r=Gn[(t=String(n)).toLowerCase()],void 0===r))throw new nn(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(Wn).join("\n"):" "+Wn(e[0]):"as no adapter specified";throw new nn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Zn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bn(null,e)}function qn(e){Zn(e),e.headers=On.from(e.headers),e.data=Tn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Vn(e.adapter||kn.adapter)(e).then((function(t){return Zn(e),t.data=Tn.call(e,e.transformResponse,t),t.headers=On.from(t.headers),t}),(function(t){return In(t)||(Zn(e),t&&t.response&&(t.response.data=Tn.call(e,e.transformResponse,t.response),t.response.headers=On.from(t.response.headers))),Promise.reject(t)}))}const Jn=e=>e instanceof On?{...e}:e;function Kn(e,t){t=t||{};const n={};function r(e,t,n){return Yt.isPlainObject(e)&&Yt.isPlainObject(t)?Yt.merge.call({caseless:n},e,t):Yt.isPlainObject(t)?Yt.merge({},t):Yt.isArray(t)?t.slice():t}function i(e,t,n){return Yt.isUndefined(t)?Yt.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!Yt.isUndefined(t))return r(void 0,t)}function s(e,t){return Yt.isUndefined(t)?Yt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(Jn(e),Jn(t),!0)};return Yt.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);Yt.isUndefined(s)&&o!==a||(n[r]=s)})),n}const Xn="1.6.8",Qn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Qn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Yn={};Qn.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new nn(r(i," has been removed"+(t?" in "+t:"")),nn.ERR_DEPRECATED);return t&&!Yn[i]&&(Yn[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var $n={assertOptions:function(e,t,n){if("object"!=typeof e)throw new nn("options must be an object",nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new nn("option "+o+" must be "+n,nn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new nn("Unknown option "+o,nn.ERR_BAD_OPTION)}},validators:Qn};const er=$n.validators;class tr{constructor(e){this.defaults=e,this.interceptors={request:new hn,response:new hn}}async request(e,t){try{return await this._request(e,t)}catch(err){if(err instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";err.stack?n&&!String(err.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(err.stack+="\n"+n):err.stack=n}throw err}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Kn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&$n.assertOptions(n,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),null!=r&&(Yt.isFunction(r)?t.paramsSerializer={serialize:r}:$n.assertOptions(r,{encode:er.function,serialize:er.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Yt.merge(i.common,i[t.method]);i&&Yt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=On.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!a){const e=[qn.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=s.length;let p=t;for(d=0;d<c;){const e=s[d++],t=s[d++];try{p=e(p)}catch(f){t.call(this,f);break}}try{u=qn.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return mn(jn((e=Kn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Yt.forEach(["delete","get","head","options"],(function(e){tr.prototype[e]=function(t,n){return this.request(Kn(n||{},{method:e,url:t,data:(n||{}).data}))}})),Yt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Kn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}tr.prototype[e]=t(),tr.prototype[e+"Form"]=t(!0)}));var nr=tr;class rr{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Bn(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new rr((function(t){e=t})),cancel:e}}}var ir=rr;const or={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(or).forEach((([e,t])=>{or[t]=e}));var sr=or;const ar=function e(t){const n=new nr(t),r=vt(nr.prototype.request,n);return Yt.extend(r,nr.prototype,n,{allOwnKeys:!0}),Yt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Kn(t,n))},r}(kn);ar.Axios=nr,ar.CanceledError=Bn,ar.CancelToken=ir,ar.isCancel=In,ar.VERSION=Xn,ar.toFormData=ln,ar.AxiosError=nn,ar.Cancel=ar.CanceledError,ar.all=function(e){return Promise.all(e)},ar.spread=function(e){return function(t){return e.apply(null,t)}},ar.isAxiosError=function(e){return Yt.isObject(e)&&!0===e.isAxiosError},ar.mergeConfig=Kn,ar.AxiosHeaders=On,ar.formToJSON=e=>xn(Yt.isHTMLForm(e)?new FormData(e):e),ar.getAdapter=Vn,ar.HttpStatusCode=sr,ar.default=ar;var lr=ar;const ur=e=>{let{name:t,label:n,defaultValue:r,options:o,setFormValues:s,formValues:a}=e;return i.createElement("label",{htmlFor:t,className:"edits__row"},n,i.createElement("select",{name:t,className:"edits__select edits__field",defaultValue:r,onChange:e=>{const n=a;n[t]=e.target.value,s(n)}},Object.entries(o).map((e=>i.createElement("option",{value:e[1],key:e[1]},e[0])))))};ur.defaultProps={defaultValue:""};var cr=ur,dr=n(5556);const pr=e=>{let{name:t,label:n,max:r,isNumeric:o,defaultValue:s,isRequired:a,setFormValues:l,formValues:u}=e;return i.createElement("label",{htmlFor:t,className:"edits__row"},a?i.createElement("span",{className:"edits__label"},i.createElement("span",{className:"edits__asterisk"},"*")," "+n):n,i.createElement("input",{type:o?"number":"string",defaultValue:s,min:"0",max:r||"",name:n,className:"edits__input edits__field",required:a,onChange:e=>{const n=u;n[t]=e.target.value,l(n)}}))};pr.defaultProps={max:n.n(dr)().undefined,isNumeric:!0,isRequired:!1,defaultValue:""};var fr=pr;const mr=e=>{let{name:t,label:n,defaultValue:r,setFormValues:o,formValues:s}=e;return i.createElement("label",{htmlFor:t,className:"edits__row edits__row--multi-line"},n,i.createElement("textarea",{name:t,className:"edits__textarea edits__field",defaultValue:r,onChange:e=>{const n=s;n[t]=e.target.value,o(n)}}))};mr.defaultProps={name:"",defaultValue:""};var hr=mr;var gr=e=>{let{success:t}=e;return i.createElement("span",{className:"edits__submission-result"},{true:"Thank you for your submission.",false:"Something went wrong; please try again."}[t])};var yr=e=>{let{setFormIsOpen:t,selectedZone:{muni:n,zoName:r,zoUsety:o,zoUsede:s,multifam:a,id:l},view:u}=e;const{0:c,1:p}=(0,i.useState)({zo_name:r,zo_usety:d[o].toString(),zo_usede:s,multifam:f[a].toString(),zone_objectid:0===u?l:null,zone_rowid:1===u?l:null,municipality:n,view_src:u,resolved:!1}),{0:m,1:h}=(0,i.useState)(),{0:g,1:y}=(0,i.useState)();return i.createElement(i.Fragment,null,i.createElement("div",{className:"edits__header"},"Edit Zone Info",i.createElement("button",{type:"button",onClick:()=>t(!1),className:"edits__exit"},i.createElement(q,{size:"1rem"}))),i.createElement("div",{className:"edits__form-wrapper"},i.createElement("form",{className:"edits__form",onSubmit:e=>{h(!0),function(e,t,n){e.preventDefault(),lr({method:"post",url:"https://zoning-atlas-api.mapc.org/form_submissions",headers:{"Content-Type":"application/json",charset:"utf-8"},data:t}).then((e=>{e.status>=200&&e.status<300?n(!0):(n(!1),console.log(err))}))}(e,c,y)}},i.createElement("p",{className:"edits__paragraph"},'For instructions on how to fill out this form, visit the "Feedback" section of the'," ",i.createElement(W.Link,{to:"/about",state:{passedSection:"feedback"}},"About page"),"."),i.createElement("p",{className:"edits__paragraph"},i.createElement("span",{className:"edits__asterisk"},"*")," ","Indicates required field"),i.createElement("fieldset",{className:"edits__section"},i.createElement(fr,{name:"name",label:"Name",isNumeric:!1,isRequired:!0,setFormValues:p,formValues:c}),i.createElement(fr,{name:"email",label:"Email",isNumeric:!1,isRequired:!0,setFormValues:p,formValues:c})),i.createElement("fieldset",{className:"edits__section"},i.createElement("span",{className:"edits__row"},i.createElement("span",null,"Municipality"),i.createElement("span",{className:"edits__field"},n)),i.createElement(fr,{name:"zo_name",label:"Zone Name",defaultValue:r,isNumeric:!1,setFormValues:p,formValues:c}),i.createElement(cr,{name:"zo_usety",label:"Zone Use Type",defaultValue:d[o],options:d,setFormValues:p,formValues:c}),i.createElement(hr,{name:"zo_usede",label:"Zone Use Description",defaultValue:s,setFormValues:p,formValues:c}),i.createElement(cr,{name:"multifam",label:"Multifamily Housing (2+ Units)",defaultValue:f[a],options:f,setFormValues:p,formValues:c}),i.createElement(fr,{name:"minlotsize",label:"Minimum Lot Size (sf)",setFormValues:p,formValues:c}),i.createElement(fr,{name:"pctlotcov",label:"Percent Lot Coverage",max:100,setFormValues:p,formValues:c}),i.createElement(fr,{name:"lapdu",label:"Minimum Lot Area per Dwelling Unit (sf)",setFormValues:p,formValues:c}),i.createElement(fr,{name:"maxflrs",label:"Maximum Building Floors",setFormValues:p,formValues:c}),i.createElement(fr,{name:"maxheight",label:"Maximum Height (ft)",setFormValues:p,formValues:c}),i.createElement(fr,{name:"maxdu",label:"Maximum Dwelling Units",setFormValues:p,formValues:c}),i.createElement(fr,{name:"dupac",label:"Maximum Dwelling Units per Acre",setFormValues:p,formValues:c}),i.createElement(fr,{name:"far",label:"Floor Area Ratio",setFormValues:p,formValues:c})),i.createElement(hr,{name:"gen_coms",label:"General comments",setFormValues:p,formValues:c}),i.createElement("button",{type:"submit",className:"button edits__button"},"Submit"),m?i.createElement(gr,{success:g}):"")))};var vr=e=>{let{reactTable:t,view:n}=e;const{0:r,1:o}=(0,i.useState)(!1),{0:s,1:a}=(0,i.useState)();return i.createElement("div",{className:"data-container"},i.createElement(ne,{headerGroups:t.headerGroups}),"tabular"===n?i.createElement(Ee,{reactTable:t,setFormIsOpen:o,setZone:a}):i.createElement(yt,{reactTable:t,setFormIsOpen:o,setZone:a}),i.createElement(l(),{isOpen:r,shouldCloseOnOverlayClick:!0,contentLabel:"Edit form",onRequestClose:()=>o(!1),overlayClassName:"modal__overlay modal__overlay--dark",className:"modal__content-wrapper edits__wrapper"},i.createElement(yr,{setFormIsOpen:o,selectedZone:s,view:{spatial:0,tabular:1}[n]})))},_r=new Map;_r.set("bold",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56a0,0,0,0,1,0,0Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),i.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),_r.set("duotone",(function(e){return i.createElement(i.Fragment,null,i.createElement("polygon",{points:"224 56 128 144 32 56 224 56",opacity:"0.2"}),i.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),_r.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.7,128,40,181.8V74.2Zm11.8,10.9,12.1,11a8,8,0,0,0,10.8,0l12.1-11L203.4,192H52.6ZM157.3,128,216,74.2V181.8Z"}))})),_r.set("light",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),i.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),_r.set("thin",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),i.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),_r.set("regular",(function(e){return i.createElement(i.Fragment,null,i.createElement("polyline",{points:"224 56 128 144 32 56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("path",{d:"M32,56H224a0,0,0,0,1,0,0V192a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V56A0,0,0,0,1,32,56Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"110.5",y1:"128",x2:"34.5",y2:"197.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),i.createElement("line",{x1:"221.5",y1:"197.7",x2:"145.5",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var br=function(e,t){return v(e,t,_r)},wr=(0,i.forwardRef)((function(e,t){return i.createElement(w,Object.assign({ref:t},e,{renderPath:br}))}));wr.displayName="Envelope";var Er=wr;var xr=()=>i.createElement("aside",{className:"contribute-menu__wrapper"},i.createElement("span",{className:"data-options__title contribute-menu__title"},"Contribute"),i.createElement("div",{className:"contribute-menu__options-wrapper"},i.createElement("a",{href:"mailto:zoning@mapc.org?subject=MAPC Zoning Atlas submission",className:"button button--icon"},i.createElement(Er,{size:"1rem",weight:"bold"})))),Sr=n.p+"static/fb-social-image-6906868f490d5450289ada6bd125542e.png";function kr(e){let{description:t,lang:n,meta:r,title:s,summary:a}=e;const{site:l}=(0,W.useStaticQuery)("63159454"),u=t||l.siteMetadata.description,c=l.siteMetadata.title;return i.createElement(o.m,{htmlAttributes:{lang:n},title:s,summary:a,titleTemplate:c?"%s | "+c:null,meta:[{name:"description",content:u},{property:"og:title",content:s},{property:"og:description",content:u},{property:"og:type",content:"website"},{name:"twitter:card",content:a},{name:"twitter:creator",content:l.siteMetadata.author||""},{name:"twitter:title",content:s},{name:"twitter:description",content:u},{name:"og:image",content:"https://zoningatlas.mapc.org/"+Sr}].concat(r)})}kr.defaultProps={lang:"en",meta:[],description:"",summary:""};var Rr=kr;function Cr(e){let{data:t}=e;const n=i.useMemo((()=>({multiple:m,inclusiveOr:h,numericRange:g})),[]),r=i.useMemo((()=>({Filter:()=>i.createElement("div",null)})),[]);t=(0,i.useMemo)((()=>t.postgres.allZoningAtlasesList.map((e=>({id:e.objectid,muni:e.muni,zoName:e.zoName,zoUsety:c(e.zoUsety),zoUsede:e.zoUsede,multifam:p(e.mulfam2),mnlsEff:e.mnlsEff,mnlsEsval:e.mnlsEsval,plcEff:100*e.plcEff,plcEsval:e.plcEsval,lApDu:e.lapdu,mxhtEff:e.mxhtEff,mxhtEsval:e.mxhtEsval,mxduEff:e.mxduEff,mxduEsval:e.mxduEsval,dUpAcEff:e.dupacEff,dUpAcEsval:e.dupacEsval,farEff:e.farEff,farEsval:e.farEsval,spatialrec:e.spatialrec})))),[t.postgres.allZoningAtlasesList]);const a=(0,i.useMemo)((()=>U),[]),d=(0,s.useTable)({columns:a,data:t,initialState:{pageSize:10,hiddenColumns:["id"]},defaultColumn:r,filterTypes:n,defaultCanFilter:!1},s.useFilters,s.useSortBy,s.usePagination),{0:f,1:y}=(0,i.useState)("spatial");return i.createElement(G.A,{title:"MAPC Zoning Atlas"},i.createElement(Rr,{title:"MAPC Zoning Atlas"}),i.createElement(u.q.Consumer,null,(e=>i.createElement(i.Fragment,null,i.createElement(o.m,null,i.createElement("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",integrity:"sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==",crossOrigin:""}),i.createElement("script",{src:"https://unpkg.com/leaflet@1.7.1/dist/leaflet.js",integrity:"sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==",crossOrigin:""}),i.createElement("link",{rel:"stylesheet",href:"https://unpkg.com/esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css"})),i.createElement("main",{className:"main__wrapper main__wrapper--default"},i.createElement(l(),{isOpen:!e||e.welcomeIsOpen,shouldCloseOnOverlayClick:!0,contentLabel:"Welcome",onRequestClose:()=>!!e&&e.changeWelcomeIsOpen(!1),overlayClassName:"modal__overlay modal__overlay--light",className:"modal__content-wrapper welcome-modal__wrapper"},i.createElement(J,{closeModal:e?e.changeWelcomeIsOpen:()=>{}})),i.createElement(Q,{view:f,setView:y}),i.createElement(vr,{reactTable:d,view:f}),i.createElement(xr,null))))))}},7191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6540),i=n(5830),o=r.forwardRef(((e,t)=>r.createElement(i.default,{ref:t,layerType:"basemapLayer",...e})));t.default=o},7087:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6540),i=n(5830),o=r.forwardRef(((e,t)=>r.createElement(i.default,{ref:t,layerType:"dynamicMapLayer",...e})));t.default=o},5830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEsriLayer=void 0;const r=n(5402),i=n(1281);t.updateEsriLayer=(e,t,n)=>{n.url!==t.url&&e.setUrl&&e.setUrl(t.url),n.opacity!==t.opacity&&e.setOpacity&&e.setOpacity(t.opacity),n.zIndex!==t.zIndex&&e.setZIndex&&e.setZIndex(t.zIndex),n.to===t.to&&n.from===t.from||e.setTimeRange&&e.setTimeRange(t.to,t.from,t.setTimeCallback||null),n.style!==t.style&&e.setStyle&&e.setStyle(t.style),n.where!==t.where&&e.setWhere&&e.setWhere(t.where),n.layers!==t.layers&&e.setLayers&&e.setLayers(t.layers),n.layerDefs!==t.layerDefs&&e.setLayerDefs&&e.setLayerDefs(t.layerDefs),n.dynamicLayers!==t.dynamicLayers&&e.setDynamicLayers&&e.setDynamicLayers(t.dynamicLayers),n.timeOptions!==t.timeOptions&&e.setTimeOptions&&e.setTimeOptions(t.timeOptions),n.bandIds!==t.bandIds&&e.setBandIds&&e.setBandIds(t.bandIds),n.noData!==t.noData&&e.setNoData&&e.setNoData(t.bandIds),n.pixelType!==t.pixelType&&e.setPixelType&&e.setPixelType(t.bandIds),n.renderingRule!==t.renderingRule&&e.setRenderingRule&&e.setRenderingRule(t.renderingRule),n.mosaicRule!==t.mosaicRule&&e.setMosaicRule&&e.setMosaicRule(t.mosaicRule)};const o=(0,i.createLayerComponent)(((e,t)=>{var n;const{layerType:i,name:o}=e;if("basemapLayer"===i)n=r.basemapLayer(o,{...e});else n=new r[i]({...e});return{instance:n,context:t}}),t.updateEsriLayer);t.default=o},2714:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6540),i=n(5830),o=r.forwardRef(((e,t)=>r.createElement(i.default,{ref:t,layerType:"featureLayer",...e})));t.default=o},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6540),i=n(5830),o=r.forwardRef(((e,t)=>r.createElement(i.default,{ref:t,layerType:"imageMapLayer",...e})));t.default=o},238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6540),i=n(5830),o=r.forwardRef(((e,t)=>r.createElement(i.default,{ref:t,layerType:"tiledMapLayer",...e})));t.default=o},3769:function(e,t,n){"use strict";t.GF=void 0;n(5830).default;n(7191).default;const r=n(2714);t.GF=r.default;n(135).default;n(7087).default;n(238).default},666:function(e,t,n){"use strict";const r=n(1281);n(5402);const i=n(4878),o=(0,r.createControlComponent)((e=>{const{providers:t}=e,n=Object.keys(t).map((e=>Object.keys(t[e]).length>0?i[e](t[e]):i[e]())),r={...e,providers:n},o=new i.Geosearch(r);if(e.eventHandlers){Object.keys(e.eventHandlers).forEach((t=>{o.on(t,e.eventHandlers[t])}))}return o}));t.A=o},8829:function(e,t,n){!function(e,t){"use strict";function n(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,l,"next",e)}function l(e){n(s,i,o,a,l,"throw",e)}a(void 0)}))}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var a={init:"init"},l=function(e){var t=e.value;return void 0===t?"":t},u=function(){return t.createElement(t.Fragment,null," ")},c={Cell:l,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=i({},e,{},o(t,["style","className"])),n&&(e.style=e.style?i({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var p=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?d.apply(void 0,[t].concat(n)):d(t,n)}(e,r,i({},t,{userProps:n}))}),{})}},f=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},m=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function h(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function g(e,t){return"function"==typeof e?e(t):e}function y(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var v="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function _(e,n){var r=t.useRef(!1);v((function(){r.current&&e(),r.current=!0}),n)}function b(e,t,n){return void 0===n&&(n={}),function(r,o){void 0===o&&(o={});var s="string"==typeof r?t[r]:r;if(void 0===s)throw console.info(t),new Error("Renderer Error ☝️");return w(s,i({},e,{column:t},n,{},o))}}function w(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function E(e,t,n){return void 0===n&&(n=0),e.map((function(e){return S(e=i({},e,{parent:t,depth:n})),e.columns&&(e.columns=E(e.columns,e,n+1)),e}))}function x(e){return P(e,"columns")}function S(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var i=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var r,i="function"==typeof t?t:JSON.stringify(t),o=C.get(i)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(B,".").replace(M,"").split(".")}(t);return C.set(i,e),e}();try{r=o.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==r?r:n}(e,i)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function k(e,t){if(!t)throw new Error;return Object.assign(e,i({Header:u,Footer:u},c,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function R(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],o=e,s=0,a=function(){return s++},l=function(){var e={headers:[]},s=[],l=o.some((function(e){return e.parent}));o.forEach((function(r){var o,u=[].concat(s).reverse()[0];l&&(o=r.parent?i({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+a(),headers:[r]},n(r)):k(i({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+a(),placeholderOf:r,headers:[r]},n(r)),t),u&&u.originalId===o.originalId?u.headers.push(r):s.push(o)),e.headers.push(r)})),r.push(e),o=s};o.length;)l();return r.reverse()}var C=new Map;function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function A(e){if("function"==typeof e)return e}function P(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function F(e,t){var n=t.manualExpandedKey,r=t.expanded,i=t.expandSubRows,o=void 0===i||i,s=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&s.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,o)}))}(e)})),s}function O(e,t,n){return A(e)||t[e]||n[e]||n.text}function T(e,t,n){return e?e(t,n):void 0===t}function I(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var N=null,B=/\[/g,M=/\]/g,j=function(e){return i({role:"table"},e)},z=function(e){return i({role:"rowgroup"},e)},D=function(e,t){var n=t.column;return i({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},U=function(e,t){var n=t.column;return i({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},G=function(e,t){return i({key:"headerGroup_"+t.index,role:"row"},e)},W=function(e,t){return i({key:"footerGroup_"+t.index},e)},H=function(e,t){return i({key:"row_"+t.row.id,role:"row"},e)},V=function(e,t){var n=t.cell;return i({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function Z(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[j],getTableBodyProps:[z],getHeaderGroupProps:[G],getFooterGroupProps:[W],getHeaderProps:[D],getFooterProps:[U],getRowProps:[H],getCellProps:[V],useFinalInstance:[]}}a.resetHiddenColumns="resetHiddenColumns",a.toggleHideColumn="toggleHideColumn",a.setHiddenColumns="setHiddenColumns",a.toggleHideAllColumns="toggleHideAllColumns";var q=function(e){e.getToggleHiddenProps=[J],e.getToggleHideAllColumnsProps=[K],e.stateReducers.push(X),e.useInstanceBeforeDimensions.push(Q),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(Y)};q.pluginName="useColumnVisibility";var J=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},K=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function X(e,t,n,r){if(t.type===a.init)return i({hiddenColumns:[]},e);if(t.type===a.resetHiddenColumns)return i({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===a.toggleHideColumn){var o=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return i({},e,{hiddenColumns:o})}return t.type===a.setHiddenColumns?i({},e,{hiddenColumns:g(t.value,e.hiddenColumns)}):t.type===a.toggleHideAllColumns?i({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function Q(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var i=0;n.forEach((function(e){return i+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return i+=e(n,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Y(e){var n=e.columns,r=e.flatHeaders,i=e.dispatch,o=e.allColumns,s=e.getHooks,l=e.state.hiddenColumns,u=e.autoResetHiddenColumns,c=void 0===u||u,d=y(e),f=o.length===l.length,m=t.useCallback((function(e,t){return i({type:a.toggleHideColumn,columnId:e,value:t})}),[i]),h=t.useCallback((function(e){return i({type:a.setHiddenColumns,value:e})}),[i]),g=t.useCallback((function(e){return i({type:a.toggleHideAllColumns,value:e})}),[i]),v=p(s().getToggleHideAllColumnsProps,{instance:d()});r.forEach((function(e){e.toggleHidden=function(t){i({type:a.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=p(s().getToggleHiddenProps,{instance:d(),column:e})}));var b=y(c);_((function(){b()&&i({type:a.resetHiddenColumns})}),[i,n]),Object.assign(e,{allColumnsHidden:f,toggleHideColumn:m,setHiddenColumns:h,toggleHideAllColumns:g,getToggleHideAllColumnsProps:v})}var $={},ee={},te=function(e,t,n){return e},ne=function(e,t){return e.subRows||[]},re=function(e,t,n){return""+(n?[n.id,t].join("."):t)},ie=function(e){return e};function oe(e){var t=e.initialState,n=void 0===t?$:t,r=e.defaultColumn,s=void 0===r?ee:r,a=e.getSubRows,l=void 0===a?ne:a,u=e.getRowId,c=void 0===u?re:u,d=e.stateReducer,p=void 0===d?te:d,f=e.useControlledState,m=void 0===f?ie:f;return i({},o(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:s,getSubRows:l,getRowId:c,stateReducer:p,useControlledState:m})}function se(e,t){void 0===t&&(t=0);var n=0,r=0,i=0,o=0;return e.forEach((function(e){var s=e.headers;if(e.totalLeft=t,s&&s.length){var a=se(s,t),l=a[0],u=a[1],c=a[2],d=a[3];e.totalMinWidth=l,e.totalWidth=u,e.totalMaxWidth=c,e.totalFlexWidth=d}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,i+=e.totalMaxWidth,o+=e.totalFlexWidth)})),[n,r,i,o]}function ae(e){var t=e.data,n=e.rows,r=e.flatRows,i=e.rowsById,o=e.column,s=e.getRowId,a=e.getSubRows,l=e.accessValueHooks,u=e.getInstance;t.forEach((function(e,c){return function e(n,c,d,p,m){void 0===d&&(d=0);var h=n,g=s(n,c,p),y=i[g];if(y)y.subRows&&y.originalSubRows.forEach((function(t,n){return e(t,n,d+1,y)}));else if((y={id:g,original:h,index:c,depth:d,cells:[{}]}).cells.map=I,y.cells.filter=I,y.cells.forEach=I,y.cells[0].getCellProps=I,y.values={},m.push(y),r.push(y),i[g]=y,y.originalSubRows=a(n,c),y.originalSubRows){var v=[];y.originalSubRows.forEach((function(t,n){return e(t,n,d+1,y,v)})),y.subRows=v}o.accessor&&(y.values[o.id]=o.accessor(n,c,y,m,t)),y.values[o.id]=f(l,y.values[o.id],{row:y,column:o,instance:u()})}(e,c,0,void 0,n)}))}a.resetExpanded="resetExpanded",a.toggleRowExpanded="toggleRowExpanded",a.toggleAllRowsExpanded="toggleAllRowsExpanded";var le=function(e){e.getToggleAllRowsExpandedProps=[ue],e.getToggleRowExpandedProps=[ce],e.stateReducers.push(de),e.useInstance.push(pe),e.prepareRow.push(fe)};le.pluginName="useExpanded";var ue=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ce=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function de(e,t,n,r){if(t.type===a.init)return i({expanded:{}},e);if(t.type===a.resetExpanded)return i({},e,{expanded:r.initialState.expanded||{}});if(t.type===a.toggleAllRowsExpanded){var l=t.value,u=r.rowsById,c=Object.keys(u).length===Object.keys(e.expanded).length;if(void 0!==l?l:!c){var d={};return Object.keys(u).forEach((function(e){d[e]=!0})),i({},e,{expanded:d})}return i({},e,{expanded:{}})}if(t.type===a.toggleRowExpanded){var p,f=t.id,m=t.value,h=e.expanded[f],g=void 0!==m?m:!h;if(!h&&g)return i({},e,{expanded:i({},e.expanded,(p={},p[f]=!0,p))});if(h&&!g){var y=e.expanded;return y[f],i({},e,{expanded:o(y,[f].map(s))})}return e}}function pe(e){var n=e.data,r=e.rows,i=e.rowsById,o=e.manualExpandedKey,s=void 0===o?"expanded":o,l=e.paginateExpandedRows,u=void 0===l||l,c=e.expandSubRows,d=void 0===c||c,f=e.autoResetExpanded,m=void 0===f||f,g=e.getHooks,v=e.plugins,b=e.state.expanded,w=e.dispatch;h(v,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var E=y(m),x=Boolean(Object.keys(i).length&&Object.keys(b).length);x&&Object.keys(i).some((function(e){return!b[e]}))&&(x=!1),_((function(){E()&&w({type:a.resetExpanded})}),[w,n]);var S=t.useCallback((function(e,t){w({type:a.toggleRowExpanded,id:e,value:t})}),[w]),k=t.useCallback((function(e){return w({type:a.toggleAllRowsExpanded,value:e})}),[w]),R=t.useMemo((function(){return u?F(r,{manualExpandedKey:s,expanded:b,expandSubRows:d}):r}),[u,r,s,b,d]),C=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(b)}),[b]),L=y(e),A=p(g().getToggleAllRowsExpandedProps,{instance:L()});Object.assign(e,{preExpandedRows:r,expandedRows:R,rows:R,expandedDepth:C,isAllRowsExpanded:x,toggleRowExpanded:S,toggleAllRowsExpanded:k,getToggleAllRowsExpandedProps:A})}function fe(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=p(n().getToggleRowExpandedProps,{instance:r,row:e})}var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};me.autoRemove=function(e){return!e};var he=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};he.autoRemove=function(e){return!e};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ge.autoRemove=function(e){return!e};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};ye.autoRemove=function(e){return!e||!e.length};var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};ve.autoRemove=function(e){return!e||!e.length};var _e=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};_e.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};be.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};we.autoRemove=function(e){return void 0===e};var Ee=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};Ee.autoRemove=function(e){return null==e};var xe=function(e,t,n){var r=n||[],i=r[0],o=r[1];if((i="number"==typeof i?i:-1/0)>(o="number"==typeof o?o:1/0)){var s=i;i=o,o=s}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=i&&n<=o}))}))};xe.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Se=Object.freeze({__proto__:null,text:me,exactText:he,exactTextCase:ge,includes:ye,includesAll:ve,includesSome:_e,includesValue:be,exact:we,equals:Ee,between:xe});a.resetFilters="resetFilters",a.setFilter="setFilter",a.setAllFilters="setAllFilters";var ke=function(e){e.stateReducers.push(Re),e.useInstance.push(Ce)};function Re(e,t,n,r){if(t.type===a.init)return i({filters:[]},e);if(t.type===a.resetFilters)return i({},e,{filters:r.initialState.filters||[]});if(t.type===a.setFilter){var o=t.columnId,s=t.filterValue,l=r.allColumns,u=r.filterTypes,c=l.find((function(e){return e.id===o}));if(!c)throw new Error("React-Table: Could not find a column with id: "+o);var d=O(c.filter,u||{},Se),p=e.filters.find((function(e){return e.id===o})),f=g(s,p&&p.value);return T(d.autoRemove,f,c)?i({},e,{filters:e.filters.filter((function(e){return e.id!==o}))}):i({},e,p?{filters:e.filters.map((function(e){return e.id===o?{id:o,value:f}:e}))}:{filters:[].concat(e.filters,[{id:o,value:f}])})}if(t.type===a.setAllFilters){var m=t.filters,h=r.allColumns,y=r.filterTypes;return i({},e,{filters:g(m,e.filters).filter((function(e){var t=h.find((function(t){return t.id===e.id}));return!T(O(t.filter,y||{},Se).autoRemove,e.value,t)}))})}}function Ce(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,s=e.allColumns,l=e.filterTypes,u=e.manualFilters,c=e.defaultCanFilter,d=void 0!==c&&c,p=e.disableFilters,f=e.state.filters,m=e.dispatch,h=e.autoResetFilters,g=void 0===h||h,v=t.useCallback((function(e,t){m({type:a.setFilter,columnId:e,filterValue:t})}),[m]),b=t.useCallback((function(e){m({type:a.setAllFilters,filters:e})}),[m]);s.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,i=e.disableFilters;e.canFilter=n?L(!0!==i&&void 0,!0!==p&&void 0,!0):L(r,d,!1),e.setFilter=function(t){return v(e.id,t)};var o=f.find((function(e){return e.id===t}));e.filterValue=o&&o.value}));var w=t.useMemo((function(){if(u||!f.length)return[r,i,o];var e=[],t={};return[function n(r,i){void 0===i&&(i=0);var o=r;return(o=f.reduce((function(e,t){var n=t.id,r=t.value,o=s.find((function(e){return e.id===n}));if(!o)return e;0===i&&(o.preFilteredRows=e);var a=O(o.filter,l||{},Se);return a?(o.filteredRows=a(e,[n],r),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,i+1):r.subRows)})),o}(r),e,t]}),[u,f,r,i,o,s,l]),E=w[0],x=w[1],S=w[2];t.useMemo((function(){s.filter((function(e){return!f.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=E,e.filteredRows=E}))}),[E,f,s]);var k=y(g);_((function(){k()&&m({type:a.resetFilters})}),[m,u?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:i,preFilteredRowsById:o,filteredRows:E,filteredFlatRows:x,filteredRowsById:S,rows:E,flatRows:x,rowsById:S,setFilter:v,setAllFilters:b})}ke.pluginName="useFilters",a.resetGlobalFilter="resetGlobalFilter",a.setGlobalFilter="setGlobalFilter";var Le=function(e){e.stateReducers.push(Ae),e.useInstance.push(Pe)};function Ae(e,t,n,r){if(t.type===a.resetGlobalFilter)return i({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===a.setGlobalFilter){var s=t.filterValue,l=r.userFilterTypes,u=O(r.globalFilter,l||{},Se),c=g(s,e.globalFilter);return T(u.autoRemove,c)?(e.globalFilter,o(e,["globalFilter"])):i({},e,{globalFilter:c})}}function Pe(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,s=e.allColumns,l=e.filterTypes,u=e.globalFilter,c=e.manualGlobalFilter,d=e.state.globalFilter,p=e.dispatch,f=e.autoResetGlobalFilter,m=void 0===f||f,h=e.disableGlobalFilter,g=t.useCallback((function(e){p({type:a.setGlobalFilter,filterValue:e})}),[p]),v=t.useMemo((function(){if(c||void 0===d)return[r,i,o];var e=[],t={},n=O(u,l||{},Se);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;s.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=L(!0!==t&&void 0,!0!==h&&void 0,!0)}));var a=s.filter((function(e){return!0===e.canFilter}));return[function r(i){return(i=n(i,a.map((function(e){return e.id})),d)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),i}(r),e,t]}),[c,d,u,l,s,r,i,o,h]),b=v[0],w=v[1],E=v[2],x=y(m);_((function(){x()&&p({type:a.resetGlobalFilter})}),[p,c?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:w,globalFilteredRowsById:E,rows:b,flatRows:w,rowsById:E,setGlobalFilter:g,disableGlobalFilter:h})}function Fe(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Le.pluginName="useGlobalFilter";var Oe=Object.freeze({__proto__:null,sum:Fe,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Fe(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Te=[],Ie={};a.resetGroupBy="resetGroupBy",a.setGroupBy="setGroupBy",a.toggleGroupBy="toggleGroupBy";var Ne=function(e){e.getGroupByToggleProps=[Be],e.stateReducers.push(Me),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(je),e.useInstance.push(De),e.prepareRow.push(Ue)};Ne.pluginName="useGroupBy";var Be=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Me(e,t,n,r){if(t.type===a.init)return i({groupBy:[]},e);if(t.type===a.resetGroupBy)return i({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===a.setGroupBy)return i({},e,{groupBy:t.value});if(t.type===a.toggleGroupBy){var o=t.columnId,s=t.value,l=void 0!==s?s:!e.groupBy.includes(o);return i({},e,l?{groupBy:[].concat(e.groupBy,[o])}:{groupBy:e.groupBy.filter((function(e){return e!==o}))})}}function je(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,i)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var ze={};function De(e){var n=e.data,r=e.rows,o=e.flatRows,s=e.rowsById,l=e.allColumns,u=e.flatHeaders,c=e.groupByFn,d=void 0===c?Ge:c,f=e.manualGroupBy,m=e.aggregations,g=void 0===m?ze:m,v=e.plugins,b=e.state.groupBy,w=e.dispatch,E=e.autoResetGroupBy,x=void 0===E||E,S=e.disableGroupBy,k=e.defaultCanGroupBy,R=e.getHooks;h(v,["useColumnOrder","useFilters"],"useGroupBy");var C=y(e);l.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=n?L(t.canGroupBy,!0!==i&&void 0,!0!==S&&void 0,!0):L(t.canGroupBy,r,k,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var A=t.useCallback((function(e,t){w({type:a.toggleGroupBy,columnId:e,value:t})}),[w]),F=t.useCallback((function(e){w({type:a.setGroupBy,value:e})}),[w]);u.forEach((function(e){e.getGroupByToggleProps=p(R().getGroupByToggleProps,{instance:C(),header:e})}));var O=t.useMemo((function(){if(f||!b.length)return[r,o,s,Te,Ie,o,s];var e=b.filter((function(e){return l.find((function(t){return t.id===e}))})),t=[],n={},a=[],u={},c=[],p={},m=function r(o,s,f){if(void 0===s&&(s=0),s===e.length)return o.map((function(e){return i({},e,{depth:s})}));var m=e[s],h=d(o,m);return Object.entries(h).map((function(i,o){var d=i[0],h=i[1],y=m+":"+d,v=r(h,s+1,y=f?f+">"+y:y),_=s?P(h,"leafRows"):h,b=function(t,n,r){var i={};return l.forEach((function(o){if(e.includes(o.id))i[o.id]=n[0]?n[0].values[o.id]:null;else{var s="function"==typeof o.aggregate?o.aggregate:g[o.aggregate]||Oe[o.aggregate];if(s){var a=n.map((function(e){return e.values[o.id]})),l=t.map((function(e){var t=e.values[o.id];if(!r&&o.aggregateValue){var n="function"==typeof o.aggregateValue?o.aggregateValue:g[o.aggregateValue]||Oe[o.aggregateValue];if(!n)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,o)}return t}));i[o.id]=s(l,a)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");i[o.id]=null}}})),i}(_,h,s),w={id:y,isGrouped:!0,groupByID:m,groupByVal:d,values:b,subRows:v,leafRows:_,depth:s,index:o};return v.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(a.push(e),u[e.id]=e):(c.push(e),p[e.id]=e)})),w}))}(r);return m.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(a.push(e),u[e.id]=e):(c.push(e),p[e.id]=e)})),[m,t,n,a,u,c,p]}),[f,b,r,o,s,l,g,d]),T=O[0],I=O[1],N=O[2],B=O[3],M=O[4],j=O[5],z=O[6],D=y(x);_((function(){D()&&w({type:a.resetGroupBy})}),[w,f?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:o,preGroupedRowsById:s,groupedRows:T,groupedFlatRows:I,groupedRowsById:N,onlyGroupedFlatRows:B,onlyGroupedRowsById:M,nonGroupedFlatRows:j,nonGroupedRowsById:z,rows:T,flatRows:I,rowsById:N,toggleGroupBy:A,setGroupBy:F})}function Ue(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function Ge(e,t){return e.reduce((function(e,n,r){var i=""+n.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(n),e}),{})}var We=/([0-9]+)/gm;function He(e,t){return e===t?0:e>t?1:-1}function Ve(e,t,n){return[e.values[n],t.values[n]]}function Ze(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var qe=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=Ve(e,t,n),i=r[0],o=r[1];for(i=Ze(i),o=Ze(o),i=i.split(We).filter(Boolean),o=o.split(We).filter(Boolean);i.length&&o.length;){var s=i.shift(),a=o.shift(),l=parseInt(s,10),u=parseInt(a,10),c=[l,u].sort();if(isNaN(c[0])){if(s>a)return 1;if(a>s)return-1}else{if(isNaN(c[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}}return i.length-o.length},datetime:function(e,t,n){var r=Ve(e,t,n),i=r[0],o=r[1];return He(i=i.getTime(),o=o.getTime())},basic:function(e,t,n){var r=Ve(e,t,n);return He(r[0],r[1])},string:function(e,t,n){var r=Ve(e,t,n),i=r[0],o=r[1];for(i=i.split("").filter(Boolean),o=o.split("").filter(Boolean);i.length&&o.length;){var s=i.shift(),a=o.shift(),l=s.toLowerCase(),u=a.toLowerCase();if(l>u)return 1;if(u>l)return-1;if(s>a)return 1;if(a>s)return-1}return i.length-o.length},number:function(e,t,n){var r=Ve(e,t,n),i=r[0],o=r[1],s=/[^0-9.]/gi;return He(i=Number(String(i).replace(s,"")),o=Number(String(o).replace(s,"")))}});a.resetSortBy="resetSortBy",a.setSortBy="setSortBy",a.toggleSortBy="toggleSortBy",a.clearSortBy="clearSortBy",c.sortType="alphanumeric",c.sortDescFirst=!1;var Je=function(e){e.getSortByToggleProps=[Ke],e.stateReducers.push(Xe),e.useInstance.push(Qe)};Je.pluginName="useSortBy";var Ke=function(e,t){var n=t.instance,r=t.column,i=n.isMultiSortEvent,o=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&o(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Xe(e,t,n,r){if(t.type===a.init)return i({sortBy:[]},e);if(t.type===a.resetSortBy)return i({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===a.clearSortBy)return i({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===a.setSortBy)return i({},e,{sortBy:t.sortBy});if(t.type===a.toggleSortBy){var o,s=t.columnId,l=t.desc,u=t.multi,c=r.allColumns,d=r.disableMultiSort,p=r.disableSortRemove,f=r.disableMultiRemove,m=r.maxMultiSortColCount,h=void 0===m?Number.MAX_SAFE_INTEGER:m,g=e.sortBy,y=c.find((function(e){return e.id===s})).sortDescFirst,v=g.find((function(e){return e.id===s})),_=g.findIndex((function(e){return e.id===s})),b=null!=l,w=[];return"toggle"!=(o=!d&&u?v?"toggle":"add":_!==g.length-1||1!==g.length?"replace":v?"toggle":"replace")||p||b||u&&f||!(v&&v.desc&&!y||!v.desc&&y)||(o="remove"),"replace"===o?w=[{id:s,desc:b?l:y}]:"add"===o?(w=[].concat(g,[{id:s,desc:b?l:y}])).splice(0,w.length-h):"toggle"===o?w=g.map((function(e){return e.id===s?i({},e,{desc:b?l:!v.desc}):e})):"remove"===o&&(w=g.filter((function(e){return e.id!==s}))),i({},e,{sortBy:w})}}function Qe(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.allColumns,s=e.orderByFn,l=void 0===s?Ye:s,u=e.sortTypes,c=e.manualSortBy,d=e.defaultCanSort,f=e.disableSortBy,m=e.flatHeaders,g=e.state.sortBy,v=e.dispatch,b=e.plugins,w=e.getHooks,E=e.autoResetSortBy,x=void 0===E||E;h(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var S=t.useCallback((function(e){v({type:a.setSortBy,sortBy:e})}),[v]),k=t.useCallback((function(e,t,n){v({type:a.toggleSortBy,columnId:e,desc:t,multi:n})}),[v]),R=y(e);m.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,i=e.id,o=t?L(!0!==r&&void 0,!0!==f&&void 0,!0):L(d,n,!1);e.canSort=o,e.canSort&&(e.toggleSortBy=function(t,n){return k(e.id,t,n)},e.clearSortBy=function(){v({type:a.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=p(w().getSortByToggleProps,{instance:R(),column:e});var s=g.find((function(e){return e.id===i}));e.isSorted=!!s,e.sortedIndex=g.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?s.desc:void 0}));var C=t.useMemo((function(){if(c||!g.length)return[r,i];var e=[],t=g.filter((function(e){return o.find((function(t){return t.id===e.id}))}));return[function n(r){var i=l(r,t.map((function(e){var t=o.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=A(n)||(u||{})[n]||qe[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=o.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),i}(r),e]}),[c,g,r,i,o,l,u]),P=C[0],F=C[1],O=y(x);_((function(){O()&&v({type:a.resetSortBy})}),[c?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:i,sortedRows:P,sortedFlatRows:F,rows:P,flatRows:F,setSortBy:S,toggleSortBy:k})}function Ye(e,t,n){return[].concat(e).sort((function(e,r){for(var i=0;i<t.length;i+=1){var o=t[i],s=!1===n[i]||"desc"===n[i],a=o(e,r);if(0!==a)return s?-a:a}return n[0]?e.index-r.index:r.index-e.index}))}a.resetPage="resetPage",a.gotoPage="gotoPage",a.setPageSize="setPageSize";var $e=function(e){e.stateReducers.push(et),e.useInstance.push(tt)};function et(e,t,n,r){if(t.type===a.init)return i({pageSize:10,pageIndex:0},e);if(t.type===a.resetPage)return i({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===a.gotoPage){var o=r.pageCount,s=r.page,l=g(t.pageIndex,e.pageIndex),u=!1;return l>e.pageIndex?u=-1===o?s.length>=e.pageSize:l<o:l<e.pageIndex&&(u=l>-1),u?i({},e,{pageIndex:l}):e}if(t.type===a.setPageSize){var c=t.pageSize,d=e.pageSize*e.pageIndex;return i({},e,{pageIndex:Math.floor(d/c),pageSize:c})}}function tt(e){var n=e.rows,r=e.autoResetPage,i=void 0===r||r,o=e.manualExpandedKey,s=void 0===o?"expanded":o,l=e.plugins,u=e.pageCount,c=e.paginateExpandedRows,d=void 0===c||c,p=e.expandSubRows,f=void 0===p||p,m=e.state,g=m.pageSize,v=m.pageIndex,b=m.expanded,w=m.globalFilter,E=m.filters,x=m.groupBy,S=m.sortBy,k=e.dispatch,R=e.data,C=e.manualPagination;h(l,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var L=y(i);_((function(){L()&&k({type:a.resetPage})}),[k,C?null:R,w,E,x,S]);var A=C?u:Math.ceil(n.length/g),P=t.useMemo((function(){return A>0?[].concat(new Array(A)).fill(null).map((function(e,t){return t})):[]}),[A]),O=t.useMemo((function(){var e;if(C)e=n;else{var t=g*v,r=t+g;e=n.slice(t,r)}return d?e:F(e,{manualExpandedKey:s,expanded:b,expandSubRows:f})}),[f,b,s,C,v,g,d,n]),T=v>0,I=-1===A?O.length>=g:v<A-1,N=t.useCallback((function(e){k({type:a.gotoPage,pageIndex:e})}),[k]),B=t.useCallback((function(){return N((function(e){return e-1}))}),[N]),M=t.useCallback((function(){return N((function(e){return e+1}))}),[N]),j=t.useCallback((function(e){k({type:a.setPageSize,pageSize:e})}),[k]);Object.assign(e,{pageOptions:P,pageCount:A,page:O,canPreviousPage:T,canNextPage:I,gotoPage:N,previousPage:B,nextPage:M,setPageSize:j})}$e.pluginName="usePagination",a.resetPivot="resetPivot",a.togglePivot="togglePivot";var nt=function(e){e.getPivotToggleProps=[it],e.stateReducers.push(ot),e.useInstanceAfterData.push(st),e.allColumns.push(at),e.accessValue.push(lt),e.materializedColumns.push(ut),e.materializedColumnsDeps.push(ct),e.visibleColumns.push(dt),e.visibleColumnsDeps.push(pt),e.useInstance.push(ft),e.prepareRow.push(mt)};nt.pluginName="usePivotColumns";var rt=[],it=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ot(e,t,n,r){if(t.type===a.init)return i({pivotColumns:rt},e);if(t.type===a.resetPivot)return i({},e,{pivotColumns:r.initialState.pivotColumns||rt});if(t.type===a.togglePivot){var o=t.columnId,s=t.value,l=void 0!==s?s:!e.pivotColumns.includes(o);return i({},e,l?{pivotColumns:[].concat(e.pivotColumns,[o])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==o}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function at(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function lt(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function ut(e,t){var n=t.instance,r=n.allColumns,o=n.state;if(!o.pivotColumns.length||!o.groupBy||!o.groupBy.length)return e;var s=o.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),a=r.filter((function(e){return!e.isPivotSource&&!o.groupBy.includes(e.id)&&!o.pivotColumns.includes(e.id)})),l=x(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var o=s[t];return o?Array.from(o.uniqueValues).sort().map((function(s){var a=i({},o,{Header:o.PivotHeader||"string"==typeof o.header?o.Header+": "+s:s,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+o.id+"."+s:o.id+"."+s,pivotValue:s});return a.columns=e(t+1,a,[].concat(r,[function(e){return e.values[o.id]===s}])),a})):a.map((function(e){return i({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,i){if(r.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,l)}function ct(e,t){var n=t.instance.state,r=n.pivotColumns,i=n.groupBy;return[].concat(e,[r,i])}function dt(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function pt(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function ft(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,i=e.getHooks,o=e.plugins,s=e.dispatch,l=e.autoResetPivot,u=void 0===l||l,c=e.manaulPivot,d=e.disablePivot,f=e.defaultCanPivot;h(o,["useGroupBy"],"usePivotColumns");var m=y(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,i=t.disablePivot;t.canPivot=n?L(t.canPivot,!0!==i&&void 0,!0!==d&&void 0,!0):L(t.canPivot,r,f,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=p(i().getPivotToggleProps,{instance:m(),header:e})}));var g=y(u);_((function(){g()&&s({type:a.resetPivot})}),[s,c?null:t]),Object.assign(e,{togglePivot:function(e,t){s({type:a.togglePivot,columnId:e,value:t})}})}function mt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}a.resetSelectedRows="resetSelectedRows",a.toggleAllRowsSelected="toggleAllRowsSelected",a.toggleRowSelected="toggleRowSelected",a.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var ht=function(e){e.getToggleRowSelectedProps=[gt],e.getToggleAllRowsSelectedProps=[yt],e.getToggleAllPageRowsSelectedProps=[vt],e.stateReducers.push(_t),e.useInstance.push(bt),e.prepareRow.push(wt)};ht.pluginName="useRowSelect";var gt=function(e,t){var n=t.instance,r=t.row,i=n.manualRowSelectedKey,o=void 0===i?"isSelected":i;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[o])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},yt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},vt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function _t(e,t,n,r){if(t.type===a.init)return i({selectedRowIds:{}},e);if(t.type===a.resetSelectedRows)return i({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===a.toggleAllRowsSelected){var o=t.value,s=r.isAllRowsSelected,l=r.rowsById,u=r.nonGroupedRowsById,c=void 0===u?l:u,d=void 0!==o?o:!s,p=Object.assign({},e.selectedRowIds);return d?Object.keys(c).forEach((function(e){p[e]=!0})):Object.keys(c).forEach((function(e){delete p[e]})),i({},e,{selectedRowIds:p})}if(t.type===a.toggleRowSelected){var f=t.id,m=t.value,h=r.rowsById,g=r.selectSubRows,y=void 0===g||g,v=r.getSubRows,_=e.selectedRowIds[f],b=void 0!==m?m:!_;if(_===b)return e;var w=i({},e.selectedRowIds);return function e(t){var n=h[t];if(n&&(n.isGrouped||(b?w[t]=!0:delete w[t]),y&&v(n)))return v(n).forEach((function(t){return e(t.id)}))}(f),i({},e,{selectedRowIds:w})}if(t.type===a.toggleAllPageRowsSelected){var E=t.value,x=r.page,S=r.rowsById,k=r.selectSubRows,R=void 0===k||k,C=r.isAllPageRowsSelected,L=r.getSubRows,A=void 0!==E?E:!C,P=i({},e.selectedRowIds);return x.forEach((function(e){return function e(t){var n=S[t];if(n.isGrouped||(A?P[t]=!0:delete P[t]),R&&L(n))return L(n).forEach((function(t){return e(t.id)}))}(e.id)})),i({},e,{selectedRowIds:P})}return e}function bt(e){var n=e.data,r=e.rows,i=e.getHooks,o=e.plugins,s=e.rowsById,l=e.nonGroupedRowsById,u=void 0===l?s:l,c=e.autoResetSelectedRows,d=void 0===c||c,f=e.state.selectedRowIds,m=e.selectSubRows,g=void 0===m||m,v=e.dispatch,b=e.page,w=e.getSubRows;h(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var E=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=g?function e(t,n,r){if(n[t.id])return!0;var i=r(t);if(i&&i.length){var o=!0,s=!1;return i.forEach((function(t){s&&!o||(e(t,n,r)?s=!0:o=!1)})),!!o||!!s&&null}return!1}(t,f,w):!!f[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,g,f,w]),x=Boolean(Object.keys(u).length&&Object.keys(f).length),S=x;x&&Object.keys(u).some((function(e){return!f[e]}))&&(x=!1),x||b&&b.length&&b.some((function(e){var t=e.id;return!f[t]}))&&(S=!1);var k=y(d);_((function(){k()&&v({type:a.resetSelectedRows})}),[v,n]);var R=t.useCallback((function(e){return v({type:a.toggleAllRowsSelected,value:e})}),[v]),C=t.useCallback((function(e){return v({type:a.toggleAllPageRowsSelected,value:e})}),[v]),L=t.useCallback((function(e,t){return v({type:a.toggleRowSelected,id:e,value:t})}),[v]),A=y(e),P=p(i().getToggleAllRowsSelectedProps,{instance:A()}),F=p(i().getToggleAllPageRowsSelectedProps,{instance:A()});Object.assign(e,{selectedFlatRows:E,isAllRowsSelected:x,isAllPageRowsSelected:S,toggleRowSelected:L,toggleAllRowsSelected:R,getToggleAllRowsSelectedProps:P,getToggleAllPageRowsSelectedProps:F,toggleAllPageRowsSelected:C})}function wt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=p(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var Et=function(e){return{}},xt=function(e){return{}};a.setRowState="setRowState",a.setCellState="setCellState",a.resetRowState="resetRowState";var St=function(e){e.stateReducers.push(kt),e.useInstance.push(Rt),e.prepareRow.push(Ct)};function kt(e,t,n,r){var o=r.initialRowStateAccessor,s=void 0===o?Et:o,l=r.initialCellStateAccessor,u=void 0===l?xt:l,c=r.rowsById;if(t.type===a.init)return i({rowState:{}},e);if(t.type===a.resetRowState)return i({},e,{rowState:r.initialState.rowState||{}});if(t.type===a.setRowState){var d,p=t.rowId,f=t.value,m=void 0!==e.rowState[p]?e.rowState[p]:s(c[p]);return i({},e,{rowState:i({},e.rowState,(d={},d[p]=g(f,m),d))})}if(t.type===a.setCellState){var h,y,v,_,b,w=t.rowId,E=t.columnId,x=t.value,S=void 0!==e.rowState[w]?e.rowState[w]:s(c[w]),k=void 0!==(null==S||null==(h=S.cellState)?void 0:h[E])?S.cellState[E]:u(null==(y=c[w])||null==(v=y.cells)?void 0:v.find((function(e){return e.column.id===E})));return i({},e,{rowState:i({},e.rowState,(b={},b[w]=i({},S,{cellState:i({},S.cellState||{},(_={},_[E]=g(x,k),_))}),b))})}}function Rt(e){var n=e.autoResetRowState,r=void 0===n||n,i=e.data,o=e.dispatch,s=t.useCallback((function(e,t){return o({type:a.setRowState,rowId:e,value:t})}),[o]),l=t.useCallback((function(e,t,n){return o({type:a.setCellState,rowId:e,columnId:t,value:n})}),[o]),u=y(r);_((function(){u()&&o({type:a.resetRowState})}),[i]),Object.assign(e,{setRowState:s,setCellState:l})}function Ct(e,t){var n=t.instance,r=n.initialRowStateAccessor,i=void 0===r?Et:r,o=n.initialCellStateAccessor,s=void 0===o?xt:o,a=n.state.rowState;e&&(e.state=void 0!==a[e.id]?a[e.id]:i(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:s(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}St.pluginName="useRowState",a.resetColumnOrder="resetColumnOrder",a.setColumnOrder="setColumnOrder";var Lt=function(e){e.stateReducers.push(At),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Pt),e.useInstance.push(Ft)};function At(e,t,n,r){return t.type===a.init?i({columnOrder:[]},e):t.type===a.resetColumnOrder?i({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===a.setColumnOrder?i({},e,{columnOrder:g(t.columnOrder,e.columnOrder)}):void 0}function Pt(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),i=[].concat(e),o=[],s=function(){var e=r.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&o.push(i.splice(t,1)[0])};i.length&&r.length;)s();return[].concat(o,i)}function Ft(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:a.setColumnOrder,columnOrder:e})}),[n])}Lt.pluginName="useColumnOrder",c.canResize=!0,a.columnStartResizing="columnStartResizing",a.columnResizing="columnResizing",a.columnDoneResizing="columnDoneResizing",a.resetResize="resetResize";var Ot=function(e){e.getResizerProps=[Tt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(It),e.useInstance.push(Bt),e.useInstanceBeforeDimensions.push(Nt)},Tt=function(e,t){var n=t.instance,r=t.header,i=n.dispatch,o=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r,o,s=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),l=n?Math.round(e.touches[0].clientX):e.clientX,u=function(){window.cancelAnimationFrame(r),r=null,i({type:a.columnDoneResizing})},c=function(){window.cancelAnimationFrame(r),r=null,i({type:a.columnResizing,clientX:o})},d=function(e){o=e,r||(r=window.requestAnimationFrame(c))},p={mouse:{moveEvent:"mousemove",moveHandler:function(e){return d(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",p.mouse.moveHandler),document.removeEventListener("mouseup",p.mouse.upHandler),u()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(p.touch.moveEvent,p.touch.moveHandler),document.removeEventListener(p.touch.upEvent,p.touch.moveHandler),u()}}},f=n?p.touch:p.mouse,m=!!function(){if("boolean"==typeof N)return N;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return N=e}()&&{passive:!1};document.addEventListener(f.moveEvent,f.moveHandler,m),document.addEventListener(f.upEvent,f.upHandler,m),i({type:a.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:s,clientX:l})};return[e,{onMouseDown:function(e){return e.persist()||o(e,r)},onTouchStart:function(e){return e.persist()||o(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function It(e,t){if(t.type===a.init)return i({columnResizing:{columnWidths:{}}},e);if(t.type===a.resetResize)return i({},e,{columnResizing:{columnWidths:{}}});if(t.type===a.columnStartResizing){var n=t.clientX,r=t.columnId,o=t.columnWidth,s=t.headerIdWidths;return i({},e,{columnResizing:i({},e.columnResizing,{startX:n,headerIdWidths:s,columnWidth:o,isResizingColumn:r})})}if(t.type===a.columnResizing){var l=t.clientX,u=e.columnResizing,c=u.startX,d=u.columnWidth,p=u.headerIdWidths,f=(l-c)/d,m={};return(void 0===p?[]:p).forEach((function(e){var t=e[0],n=e[1];m[t]=Math.max(n+n*f,0)})),i({},e,{columnResizing:i({},e.columnResizing,{columnWidths:i({},e.columnResizing.columnWidths,{},m)})})}return t.type===a.columnDoneResizing?i({},e,{columnResizing:i({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Ot.pluginName="useResizeColumns";var Nt=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,i=e.state.columnResizing,o=y(e);t.forEach((function(e){var t=L(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=p(r().getResizerProps,{instance:o(),header:e}))}))};function Bt(e){var n=e.plugins,r=e.dispatch,i=e.autoResetResize,o=void 0===i||i,s=e.columns;h(n,["useAbsoluteLayout"],"useResizeColumns");var l=y(o);_((function(){l()&&r({type:a.resetResize})}),[s]);var u=t.useCallback((function(){return r({type:a.resetResize})}),[r]);Object.assign(e,{resetResizing:u})}var Mt={position:"absolute",top:0},jt=function(e){e.getTableBodyProps.push(zt),e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:i({},Mt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:i({},Mt,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:i({},Mt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};jt.pluginName="useAbsoluteLayout";var zt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Dt={display:"inline-block",boxSizing:"border-box"},Ut=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Gt=function(e){e.getRowProps.push(Ut),e.getHeaderGroupProps.push(Ut),e.getFooterGroupProps.push(Ut),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:i({},Dt,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:i({},Dt,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:i({},Dt,{width:n.totalWidth+"px"})}]}))};function Wt(e){e.getTableProps.push(Ht),e.getRowProps.push(Vt),e.getHeaderGroupProps.push(Vt),e.getFooterGroupProps.push(Vt),e.getHeaderProps.push(Zt),e.getCellProps.push(qt),e.getFooterProps.push(Jt)}Gt.pluginName="useBlockLayout",Wt.pluginName="useFlexLayout";var Ht=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Vt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Zt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},qt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Jt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Kt(e){e.stateReducers.push($t),e.getTableProps.push(Xt),e.getHeaderProps.push(Qt),e.getRowProps.push(Yt)}a.columnStartResizing="columnStartResizing",a.columnResizing="columnResizing",a.columnDoneResizing="columnDoneResizing",a.resetResize="resetResize",Kt.pluginName="useGridLayout";var Xt=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(e){var t;return n.state.gridLayout.columnWidths[e.id]?n.state.gridLayout.columnWidths[e.id]+"px":(null==(t=n.state.columnResizing)?void 0:t.isResizingColumn)?n.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},Qt=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Yt=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function $t(e,t,n,r){if(t.type===a.init)return i({gridLayout:{columnWidths:{}}},e);if(t.type===a.resetResize)return i({},e,{gridLayout:{columnWidths:{}}});if(t.type===a.columnStartResizing){var o=t.columnId,s=t.headerIdWidths,l=en(o);if(void 0!==l){var u=r.visibleColumns.reduce((function(e,t){var n;return i({},e,((n={})[t.id]=en(t.id),n))}),{}),c=r.visibleColumns.reduce((function(e,t){var n;return i({},e,((n={})[t.id]=t.minWidth,n))}),{}),d=r.visibleColumns.reduce((function(e,t){var n;return i({},e,((n={})[t.id]=t.maxWidth,n))}),{}),p=s.map((function(e){var t=e[0];return[t,en(t)]}));return i({},e,{gridLayout:i({},e.gridLayout,{startWidths:u,minWidths:c,maxWidths:d,headerIdGridWidths:p,columnWidth:l})})}return e}if(t.type===a.columnResizing){var f=t.clientX,m=e.columnResizing.startX,h=e.gridLayout,g=h.columnWidth,y=h.minWidths,v=h.maxWidths,_=h.headerIdGridWidths,b=(f-m)/g,w={};return(void 0===_?[]:_).forEach((function(e){var t=e[0],n=e[1];w[t]=Math.min(Math.max(y[t],n+n*b),v[t])})),i({},e,{gridLayout:i({},e.gridLayout,{columnWidths:i({},e.gridLayout.columnWidths,{},w)})})}return t.type===a.columnDoneResizing?i({},e,{gridLayout:i({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function en(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}e._UNSTABLE_usePivotColumns=nt,e.actions=a,e.defaultColumn=c,e.defaultGroupByFn=Ge,e.defaultOrderByFn=Ye,e.defaultRenderer=l,e.emptyRenderer=u,e.ensurePluginOrder=h,e.flexRender=w,e.functionalUpdate=g,e.loopHooks=m,e.makePropGetter=p,e.makeRenderer=b,e.reduceHooks=f,e.safeUseLayoutEffect=v,e.useAbsoluteLayout=jt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var i=t.useRef({}),o=y(e),s=y(n);return t.useCallback(function(){var e=r(regeneratorRuntime.mark((function e(){var t,n,a,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length,n=new Array(t),a=0;a<t;a++)n[a]=l[a];return i.current.promise||(i.current.promise=new Promise((function(e,t){i.current.resolve=e,i.current.reject=t}))),i.current.timeout&&clearTimeout(i.current.timeout),i.current.timeout=setTimeout(r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete i.current.timeout,e.prev=1,e.t0=i.current,e.next=5,o().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),i.current.reject(e.t2);case 12:return e.prev=12,delete i.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",i.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[o,s])},e.useBlockLayout=Gt,e.useColumnOrder=Lt,e.useExpanded=le,e.useFilters=ke,e.useFlexLayout=Wt,e.useGetLatest=y,e.useGlobalFilter=Le,e.useGridLayout=Kt,e.useGroupBy=Ne,e.useMountedLayoutEffect=_,e.usePagination=$e,e.useResizeColumns=Ot,e.useRowSelect=ht,e.useRowState=St,e.useSortBy=Je,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e=oe(e),r=[q].concat(r);var s=y(t.useRef({}).current);Object.assign(s(),i({},e,{plugins:r,hooks:Z()})),r.filter(Boolean).forEach((function(e){e(s().hooks)}));var l=y(s().hooks);s().getHooks=l,delete s().hooks,Object.assign(s(),f(l().useOptions,oe(e)));var u=s(),c=u.data,d=u.columns,h=u.initialState,g=u.defaultColumn,v=u.getSubRows,_=u.getRowId,w=u.stateReducer,C=u.useControlledState,L=y(w),A=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action 👆");return[].concat(l().stateReducers,Array.isArray(L())?L():[L()]).reduce((function(n,r){return r(n,t,e,s())||n}),e)}),[l,L,s]),P=t.useReducer(A,void 0,(function(){return A(h,{type:a.init})})),F=P[0],O=P[1],T=f([].concat(l().useControlledState,[C]),F,{instance:s()});Object.assign(s(),{state:T,dispatch:O});var I=t.useMemo((function(){return E(f(l().columns,d,{instance:s()}))}),[l,s,d].concat(f(l().columnsDeps,[],{instance:s()})));s().columns=I;var N=t.useMemo((function(){return f(l().allColumns,x(I),{instance:s()}).map(S)}),[I,l,s].concat(f(l().allColumnsDeps,[],{instance:s()})));s().allColumns=N;var B=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(N);r.length;){var i=r.shift();ae({data:c,rows:e,flatRows:t,rowsById:n,column:i,getRowId:_,getSubRows:v,accessValueHooks:l().accessValue,getInstance:s})}return[e,t,n]}),[N,c,_,v,l,s]),M=B[0],j=B[1],z=B[2];Object.assign(s(),{rows:M,initialRows:[].concat(M),flatRows:j,rowsById:z}),m(l().useInstanceAfterData,s());var D=t.useMemo((function(){return f(l().visibleColumns,N,{instance:s()}).map((function(e){return k(e,g)}))}),[l,N,s,g].concat(f(l().visibleColumnsDeps,[],{instance:s()})));N=t.useMemo((function(){var e=[].concat(D);return N.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[N,D]),s().allColumns=N;var U=t.useMemo((function(){return f(l().headerGroups,R(D,g),s())}),[l,D,g,s].concat(f(l().headerGroupsDeps,[],{instance:s()})));s().headerGroups=U;var G=t.useMemo((function(){return U.length?U[0].headers:[]}),[U]);s().headers=G,s().flatHeaders=U.reduce((function(e,t){return[].concat(e,t.headers)}),[]),m(l().useInstanceBeforeDimensions,s());var W=D.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");D=t.useMemo((function(){return D.filter((function(e){return e.isVisible}))}),[D,W]),s().visibleColumns=D;var H=se(G),V=H[0],J=H[1],K=H[2];return s().totalColumnsMinWidth=V,s().totalColumnsWidth=J,s().totalColumnsMaxWidth=K,m(l().useInstance,s()),[].concat(s().flatHeaders,s().allColumns).forEach((function(e){e.render=b(s(),e),e.getHeaderProps=p(l().getHeaderProps,{instance:s(),column:e}),e.getFooterProps=p(l().getFooterProps,{instance:s(),column:e})})),s().headerGroups=t.useMemo((function(){return U.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=p(l().getHeaderGroupProps,{instance:s(),headerGroup:e,index:t}),e.getFooterGroupProps=p(l().getFooterGroupProps,{instance:s(),headerGroup:e,index:t}),!0)}))}),[U,s,l]),s().footerGroups=[].concat(s().headerGroups).reverse(),s().prepareRow=t.useCallback((function(e){e.getRowProps=p(l().getRowProps,{instance:s(),row:e}),e.allCells=N.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=p(l().getCellProps,{instance:s(),cell:r}),r.render=b(s(),t,{row:e,cell:r,value:n}),r})),e.cells=D.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),m(l().prepareRow,e,{instance:s()})}),[l,s,N,D]),s().getTableProps=p(l().getTableProps,{instance:s()}),s().getTableBodyProps=p(l().getTableBodyProps,{instance:s()}),m(l().useFinalInstance,s()),s()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(6540))},2885:function(e,t,n){e.exports=n(8829)},4866:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(6540);function i(e,t){const n=(0,r.useRef)(t);(0,r.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}},4144:function(e,t,n){"use strict";n.d(t,{B7:function(){return s},KU:function(){return l},jU:function(){return a}});var r=n(6540),i=n(961),o=n(3148);function s(e){function t(t,n){const{instance:i,context:s}=e(t).current;return(0,r.useImperativeHandle)(n,(()=>i)),null==t.children?null:r.createElement(o.hL,{value:s},t.children)}return(0,r.forwardRef)(t)}function a(e){function t(t,n){const[o,s]=(0,r.useState)(!1),{instance:a}=e(t,s).current;(0,r.useImperativeHandle)(n,(()=>a)),(0,r.useEffect)((function(){o&&a.update()}),[a,o,t.children]);const l=a._contentNode;return l?(0,i.createPortal)(t.children,l):null}return(0,r.forwardRef)(t)}function l(e){function t(t,n){const{instance:i}=e(t).current;return(0,r.useImperativeHandle)(n,(()=>i)),null}return(0,r.forwardRef)(t)}},3148:function(e,t,n){"use strict";n.d(t,{U$:function(){return u},W4:function(){return s},dk:function(){return a},fB:function(){return o},hL:function(){return l},hd:function(){return i}});var r=n(6540);const i=1;function o(e){return Object.freeze({__version:i,map:e})}function s(e,t){return Object.freeze({...e,...t})}const a=(0,r.createContext)(null),l=a.Provider;function u(){const e=(0,r.useContext)(a);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},5898:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(6540),i=n(3148);function o(e){return function(t){const n=(0,i.U$)(),o=e(t,n),{instance:s}=o.current,a=(0,r.useRef)(t.position),{position:l}=t;return(0,r.useEffect)((function(){return s.addTo(n.map),function(){s.remove()}}),[n.map,s]),(0,r.useEffect)((function(){null!=l&&l!==a.current&&(s.setPosition(l),a.current=l)}),[s,l]),o}}},9977:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(4866),i=n(3148),o=n(3854),s=n(7685);function a(e,t){return function(n,a){const l=(0,i.U$)(),u=e((0,s.P)(n,l),l);return(0,r.z)(l.map,n.attribution),(0,o.x)(u.current,n.eventHandlers),t(u.current,l,n,a),u}}},6667:function(e,t,n){"use strict";n.d(t,{K:function(){return o},Q:function(){return i}});var r=n(6540);function i(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function o(e,t){return null==t?function(t,n){const i=(0,r.useRef)();return i.current||(i.current=e(t,n)),i}:function(n,i){const o=(0,r.useRef)();o.current||(o.current=e(n,i));const s=(0,r.useRef)(n),{instance:a}=o.current;return(0,r.useEffect)((function(){s.current!==n&&(t(a,n,s.current),s.current=n)}),[a,n,i]),o}}},3854:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(6540);function i(e,t){const n=(0,r.useRef)();(0,r.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}},7458:function(e,t,n){"use strict";n.d(t,{Lt:function(){return p},Nq:function(){return c},T7:function(){return u},X3:function(){return f},wk:function(){return d}});var r=n(4144),i=n(5898),o=n(6667),s=n(5674),a=n(9977),l=n(5832);function u(e){const t=(0,o.K)((function(t,n){return(0,o.Q)(e(t),n)})),n=(0,i.T)(t);return(0,r.KU)(n)}function c(e,t){const n=(0,o.K)(e,t),i=(0,s.V)(n);return(0,r.B7)(i)}function d(e,t){const n=(0,o.K)(e),i=(0,a.h)(n,t);return(0,r.jU)(i)}function p(e,t){const n=(0,o.K)(e,t),i=(0,l.V)(n);return(0,r.B7)(i)}function f(e,t){const n=(0,o.K)(e,t),i=(0,s.V)(n);return(0,r.KU)(i)}},8139:function(e,t,n){"use strict";function r(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}n.d(t,{X:function(){return r}})},1281:function(e,t,n){"use strict";n.r(t),n.d(t,{CONTEXT_VERSION:function(){return s.hd},LeafletContext:function(){return s.dk},LeafletProvider:function(){return s.hL},addClassName:function(){return d},createContainerComponent:function(){return o.B7},createControlComponent:function(){return g.T7},createControlHook:function(){return a.T},createDivOverlayComponent:function(){return o.jU},createDivOverlayHook:function(){return l.h},createElementHook:function(){return m.K},createElementObject:function(){return m.Q},createLayerComponent:function(){return g.Nq},createLayerHook:function(){return v.V},createLeafComponent:function(){return o.KU},createLeafletContext:function(){return s.fB},createOverlayComponent:function(){return g.wk},createPathComponent:function(){return g.Lt},createPathHook:function(){return w.V},createTileLayerComponent:function(){return g.X3},extendContext:function(){return s.W4},removeClassName:function(){return p},updateCircle:function(){return i},updateClassName:function(){return f},updateGridLayer:function(){return y.X},updateMediaOverlay:function(){return _},useAttribution:function(){return r.z},useEventHandlers:function(){return h.x},useLayerLifecycle:function(){return v.N},useLeafletContext:function(){return s.U$},usePathOptions:function(){return w.P},withPane:function(){return b.P}});var r=n(4866);function i(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}var o=n(4144),s=n(3148),a=n(5898),l=n(9977),u=n(3481);function c(e){return e.split(" ").filter(Boolean)}function d(e,t){c(t).forEach((t=>{u.DomUtil.addClass(e,t)}))}function p(e,t){c(t).forEach((t=>{u.DomUtil.removeClass(e,t)}))}function f(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&p(e,t),null!=n&&n.length>0&&d(e,n))}var m=n(6667),h=n(3854),g=n(7458),y=n(8139),v=n(5674);function _(e,t,n){t.bounds instanceof u.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}var b=n(7685),w=n(5832)},5674:function(e,t,n){"use strict";n.d(t,{N:function(){return l},V:function(){return u}});var r=n(6540),i=n(4866),o=n(3148),s=n(3854),a=n(7685);function l(e,t){(0,r.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function u(e){return function(t){const n=(0,o.U$)(),r=e((0,a.P)(t,n),n);return(0,i.z)(n.map,t.attribution),(0,s.x)(r.current,t.eventHandlers),l(r.current,n),r}}},7685:function(e,t,n){"use strict";function r(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}n.d(t,{P:function(){return r}})},5832:function(e,t,n){"use strict";n.d(t,{P:function(){return l},V:function(){return u}});var r=n(6540),i=n(3148),o=n(3854),s=n(5674),a=n(7685);function l(e,t){const n=(0,r.useRef)();(0,r.useEffect)((function(){if(t.pathOptions!==n.current){const r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}}),[e,t])}function u(e){return function(t){const n=(0,i.U$)(),r=e((0,a.P)(t,n),n);return(0,o.x)(r.current,t.eventHandlers),(0,s.N)(r.current,n),l(r.current,t),r}}}}]);
//# sourceMappingURL=component---src-pages-index-js-dfd775880a02ffa0f97b.js.map